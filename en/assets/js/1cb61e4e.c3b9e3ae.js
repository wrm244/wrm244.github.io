"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1991],{72485:function(n,e,t){t.r(e),t.d(e,{assets:function(){return u},contentTitle:function(){return o},default:function(){return k},frontMatter:function(){return p},metadata:function(){return c},toc:function(){return s}});var a=t(83117),i=t(80102),l=(t(67294),t(3905)),r=["components"],p={id:"C\u8bed\u8a00\u8fdb\u9636\u6307\u9488\u4e0e\u51fd\u6570",slug:"/\u6307\u9488\u4e0e\u51fd\u6570",title:"\u6307\u9488\u4e0e\u51fd\u6570",author:"RiverMountain",date:"2023/06/19",tags:["C","Linux","C\u6307\u9488","C\u51fd\u6570"],keywords:["C","Linux","C\u6307\u9488","C\u51fd\u6570"],description:"C\u8bed\u8a00\u8fdb\u9636\u6307\u9488\u4e0e\u51fd\u6570\u90e8\u5206",last_update:{date:"2023/06/22"}},o=void 0,c={unversionedId:"course/Linux C/C\u8bed\u8a00\u8fdb\u9636\u6307\u9488\u4e0e\u51fd\u6570",id:"course/Linux C/C\u8bed\u8a00\u8fdb\u9636\u6307\u9488\u4e0e\u51fd\u6570",title:"\u6307\u9488\u4e0e\u51fd\u6570",description:"C\u8bed\u8a00\u8fdb\u9636\u6307\u9488\u4e0e\u51fd\u6570\u90e8\u5206",source:"@site/docs/course/Linux C/\u6307\u9488\u4e0e\u51fd\u6570.md",sourceDirName:"course/Linux C",slug:"/\u6307\u9488\u4e0e\u51fd\u6570",permalink:"/en/docs/\u6307\u9488\u4e0e\u51fd\u6570",draft:!1,tags:[{label:"C",permalink:"/en/docs/tags/c"},{label:"Linux",permalink:"/en/docs/tags/linux"},{label:"C\u6307\u9488",permalink:"/en/docs/tags/c\u6307\u9488"},{label:"C\u51fd\u6570",permalink:"/en/docs/tags/c\u51fd\u6570"}],version:"current",frontMatter:{id:"C\u8bed\u8a00\u8fdb\u9636\u6307\u9488\u4e0e\u51fd\u6570",slug:"/\u6307\u9488\u4e0e\u51fd\u6570",title:"\u6307\u9488\u4e0e\u51fd\u6570",author:"RiverMountain",date:"2023/06/19",tags:["C","Linux","C\u6307\u9488","C\u51fd\u6570"],keywords:["C","Linux","C\u6307\u9488","C\u51fd\u6570"],description:"C\u8bed\u8a00\u8fdb\u9636\u6307\u9488\u4e0e\u51fd\u6570\u90e8\u5206",last_update:{date:"2023/06/22"}},sidebar:"course",previous:{title:"\u4ee5\u81ea\u52a8\u673a\u89c6\u89d2\u8bbe\u8ba1C\u7a0b\u5e8f",permalink:"/en/docs/\u4ee5\u81ea\u52a8\u673a\u89c6\u89d2\u8bbe\u8ba1C\u7a0b\u5e8f"},next:{title:"1 \u7ebf\u6027\u8868",permalink:"/en/docs/1\u7ebf\u6027\u8868"}},u={},s=[{value:"\u6307\u9488\u90e8\u5206",id:"\u6307\u9488\u90e8\u5206",level:2},{value:"\u53d8\u91cf\u4e0e\u5730\u5740",id:"\u53d8\u91cf\u4e0e\u5730\u5740",level:3},{value:"\u6307\u9488\u4e0e\u6307\u9488\u53d8\u91cf",id:"\u6307\u9488\u4e0e\u6307\u9488\u53d8\u91cf",level:3},{value:"\u5b9a\u4e49\u4e0e\u521d\u59cb\u5316",id:"\u5b9a\u4e49\u4e0e\u521d\u59cb\u5316",level:3},{value:"\u7a7a\u6307\u9488\u4e0e\u91ce\u6307\u9488",id:"\u7a7a\u6307\u9488\u4e0e\u91ce\u6307\u9488",level:4},{value:"void\u7c7b\u578b\u6307\u9488",id:"void\u7c7b\u578b\u6307\u9488",level:4},{value:"\u6307\u9488\u8fd0\u7b97",id:"\u6307\u9488\u8fd0\u7b97",level:4},{value:"\u6307\u9488\u4e0e\u6570\u7ec4",id:"\u6307\u9488\u4e0e\u6570\u7ec4",level:3},{value:"\u6307\u9488\u4e0e\u4e00\u7ef4\u6570\u7ec4",id:"\u6307\u9488\u4e0e\u4e00\u7ef4\u6570\u7ec4",level:4},{value:"\u6307\u9488\u4e0e\u4e8c\u7ef4\u6570\u7ec4",id:"\u6307\u9488\u4e0e\u4e8c\u7ef4\u6570\u7ec4",level:4},{value:"\u6570\u7ec4\u6307\u9488",id:"\u6570\u7ec4\u6307\u9488",level:4},{value:"\u6307\u9488\u6570\u7ec4",id:"\u6307\u9488\u6570\u7ec4",level:4},{value:"\u5b57\u7b26\u6570\u7ec4\u6307\u9488",id:"\u5b57\u7b26\u6570\u7ec4\u6307\u9488",level:4},{value:"\u5b57\u7b26\u6307\u9488\u548c\u5b57\u7b26\u6570\u7ec4\u7684\u533a\u522b",id:"\u5b57\u7b26\u6307\u9488\u548c\u5b57\u7b26\u6570\u7ec4\u7684\u533a\u522b",level:5},{value:"const\u4e0e\u6307\u9488",id:"const\u4e0e\u6307\u9488",level:4},{value:"\u6307\u9488\u5e38\u91cf\u4e0e\u5e38\u91cf\u6307\u9488\u7684\u533a\u522b",id:"\u6307\u9488\u5e38\u91cf\u4e0e\u5e38\u91cf\u6307\u9488\u7684\u533a\u522b",level:4},{value:"\u591a\u7ea7\u6307\u9488",id:"\u591a\u7ea7\u6307\u9488",level:3},{value:"\u51fd\u6570",id:"\u51fd\u6570",level:2},{value:"\u51fd\u6570\u7684\u5b9a\u4e49",id:"\u51fd\u6570\u7684\u5b9a\u4e49",level:3},{value:"\u51fd\u6570\u7684\u4f20\u53c2",id:"\u51fd\u6570\u7684\u4f20\u53c2",level:3},{value:"\u51fd\u6570\u7684\u8c03\u7528",id:"\u51fd\u6570\u7684\u8c03\u7528",level:3},{value:"\u5d4c\u5957",id:"\u5d4c\u5957",level:4},{value:"\u9012\u5f52",id:"\u9012\u5f52",level:4},{value:"\u51fd\u6570\u4e0e\u6570\u7ec4",id:"\u51fd\u6570\u4e0e\u6570\u7ec4",level:3},{value:"\u51fd\u6570\u7684\u6307\u9488",id:"\u51fd\u6570\u7684\u6307\u9488",level:3},{value:"\u6307\u9488\u51fd\u6570",id:"\u6307\u9488\u51fd\u6570",level:4},{value:"\u51fd\u6570\u6307\u9488",id:"\u51fd\u6570\u6307\u9488",level:4},{value:"\u51fd\u6570\u6307\u9488\u6570\u7ec4",id:"\u51fd\u6570\u6307\u9488\u6570\u7ec4",level:4},{value:"\u6307\u5411\u6307\u9488\u51fd\u6570\u7684\u51fd\u6570\u6307\u9488\u6570\u7ec4",id:"\u6307\u5411\u6307\u9488\u51fd\u6570\u7684\u51fd\u6570\u6307\u9488\u6570\u7ec4",level:4},{value:"\u6784\u9020\u7c7b\u578b",id:"\u6784\u9020\u7c7b\u578b",level:2},{value:"\u7ed3\u6784\u4f53",id:"\u7ed3\u6784\u4f53",level:3},{value:"\u4ea7\u751f\u53ca\u610f\u4e49",id:"\u4ea7\u751f\u53ca\u610f\u4e49",level:4},{value:"\u7c7b\u578b\u63cf\u8ff0",id:"\u7c7b\u578b\u63cf\u8ff0",level:4},{value:"\u5d4c\u5957\u5b9a\u4e49",id:"\u5d4c\u5957\u5b9a\u4e49",level:4},{value:"\u5b9a\u4e49\u53d8\u91cf\u521d\u59cb\u5316\u4ee5\u53ca\u6210\u5458\u5f15\u7528",id:"\u5b9a\u4e49\u53d8\u91cf\u521d\u59cb\u5316\u4ee5\u53ca\u6210\u5458\u5f15\u7528",level:4},{value:"\u5360\u7528\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f",id:"\u5360\u7528\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f",level:4},{value:"\u7ed3\u6784\u4f53\u5bf9\u9f50",id:"\u7ed3\u6784\u4f53\u5bf9\u9f50",level:5},{value:"\u51fd\u6570\u4f20\u53c2\u7ed3\u6784\u4f53",id:"\u51fd\u6570\u4f20\u53c2\u7ed3\u6784\u4f53",level:4},{value:"\u7ed3\u6784\u4f53\u5e94\u7528",id:"\u7ed3\u6784\u4f53\u5e94\u7528",level:4},{value:"\u5171\u7528\u4f53",id:"\u5171\u7528\u4f53",level:3},{value:"\u4ea7\u751f\u53ca\u610f\u4e49",id:"\u4ea7\u751f\u53ca\u610f\u4e49-1",level:4},{value:"\u7c7b\u578b\u63cf\u8ff0",id:"\u7c7b\u578b\u63cf\u8ff0-1",level:4},{value:"\u5d4c\u5957\u5b9a\u4e49",id:"\u5d4c\u5957\u5b9a\u4e49-1",level:4},{value:"\u5d4c\u5957\u7684\u5e94\u7528",id:"\u5d4c\u5957\u7684\u5e94\u7528",level:5},{value:"\u5b9a\u4e49\u53d8\u91cf\u521d\u59cb\u5316\u4ee5\u53ca\u6210\u5458\u5f15\u7528",id:"\u5b9a\u4e49\u53d8\u91cf\u521d\u59cb\u5316\u4ee5\u53ca\u6210\u5458\u5f15\u7528-1",level:4},{value:"\u4f4d\u57df",id:"\u4f4d\u57df",level:4},{value:"typedef",id:"typedef",level:3},{value:"\u52a8\u6001\u5185\u5b58\u7ba1\u7406",id:"\u52a8\u6001\u5185\u5b58\u7ba1\u7406",level:2},{value:"malloc",id:"malloc",level:3},{value:"\u5b9e\u73b0\u52a8\u6001\u6570\u7ec4",id:"\u5b9e\u73b0\u52a8\u6001\u6570\u7ec4",level:4},{value:"\u6307\u9488\u4f20\u53c2\u5bfc\u81f4\u7684\u5185\u5b58\u6cc4\u6f0f",id:"\u6307\u9488\u4f20\u53c2\u5bfc\u81f4\u7684\u5185\u5b58\u6cc4\u6f0f",level:4},{value:"free",id:"free",level:3},{value:"\u4e0e\u7ed3\u6784\u4f53\u7ed3\u5408\u7a0b\u5e8f",id:"\u4e0e\u7ed3\u6784\u4f53\u7ed3\u5408\u7a0b\u5e8f",level:3},{value:"Makefile",id:"makefile",level:2}],d={toc:s},m="wrapper";function k(n){var e=n.components,p=(0,i.Z)(n,r);return(0,l.kt)(m,(0,a.Z)({},d,p,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u6307\u9488\u90e8\u5206"},"\u6307\u9488\u90e8\u5206"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"64\u4f4d\u73af\u5883 \u6307\u9488\u7c7b\u578b\u5360\u75288\u4e2a\u5b57\u8282"),(0,l.kt)("p",{parentName:"blockquote"},"32\u4f4d\u73af\u5883 \u6307\u9488\u7c7b\u578b\u5360\u75284\u4e2a\u5b57\u8282")),(0,l.kt)("h3",{id:"\u53d8\u91cf\u4e0e\u5730\u5740"},"\u53d8\u91cf\u4e0e\u5730\u5740"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u53d8\u91cf\u5bf9\u67d0\u5757\u5185\u5b58\u7684\u62bd\u8c61\u8868\u793a")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"\u6307\u9488 -> \u5730\u5740 ")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"\u53d8\u91cf\u540d -> \u62bd\u8c61\u51fa\u6765\u7684\u67d0\u5757\u7a7a\u95f4\u7684\u522b\u540d")),(0,l.kt)("h3",{id:"\u6307\u9488\u4e0e\u6307\u9488\u53d8\u91cf"},"\u6307\u9488\u4e0e\u6307\u9488\u53d8\u91cf"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int i = 1;\nint *p = &i; //\u7528\u4e8e\u5b58\u653e\u6574\u578b\u7684\u6307\u9488\nint ** q = &p; //*q\u6307\u7684\u662f\u53d6q\u91cc\u9762\u7684\u5730\u5740\u503c\n")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"TYPE NAME = VALUE \u8981\u533a\u5206",(0,l.kt)("inlineCode",{parentName:"p"},"int *p = &i;"),"\u662f\u5b9a\u4e49",(0,l.kt)("inlineCode",{parentName:"p"},"int *")," \u7c7b\u578b\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"p"),"\uff0c\u518d\u628ap\u53d6",(0,l.kt)("inlineCode",{parentName:"p"},"i"),"\u7684\u5730\u5740")),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f\u5404\u53d8\u91cf\u7684\u503c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"i = 1;\n&i = 0x2000;\np = 0x2000;\n&p = 0x3000;\n*p = 1;\n\nq = 0x3000;\n&q = 0x4000;\n*q = 0x2000; //*q\u5373\u662fp\u7684\u5730\u5740\uff0c\u4e0d\u7528\u523b\u610f\u8003\u8651\u4ec0\u4e48\u591a\u7ea7\u6307\u9488\n**q = 1;\n")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"\u6307\u9488\u7684\u5927\u5c0f\u4e0d\u53d6\u51b3\u4e8e\u6570\u636e\u7c7b\u578b\uff0c\u4f46\u662f\u5728\u5b9a\u4e49\u7684\u65f6\u5019\uff0c\u9700\u8981\u5b9a\u4e49",(0,l.kt)("strong",{parentName:"p"},"\u6570\u636e\u7c7b\u578b"),"\u6765\u5e2e\u52a9\u5176\u5728\u8fd0\u7b97\u7684\u65f6\u5019\u8bfb\u53d6\u503c\u7684\u65f6\u5019\u83b7\u53d6\u591a\u5c11\u4f4d\u6765\u4ee3\u8868\u503c\u3002")),(0,l.kt)("h3",{id:"\u5b9a\u4e49\u4e0e\u521d\u59cb\u5316"},"\u5b9a\u4e49\u4e0e\u521d\u59cb\u5316"),(0,l.kt)("h4",{id:"\u7a7a\u6307\u9488\u4e0e\u91ce\u6307\u9488"},"\u7a7a\u6307\u9488\u4e0e\u91ce\u6307\u9488"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int *p = NULL; //\u7a7a\u6307\u9488\nint *p = 0x40303; //\u91ce\u6307\u9488\n")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"\u7a7a\u6307\u9488(NULL\u4e3a\u5b8f\uff0c\u5728\u9884\u7f16\u8bd1\u7684\u65f6\u5019\u8865\u5145\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"((void *)0)"),")")),(0,l.kt)("admonition",{type:"danger"},(0,l.kt)("p",{parentName:"admonition"},"\u5982\u679c\u53ea\u5b9a\u4e49\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"int *p"),"\u5e76\u5bf9\u5176\u53d6\u503c\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u6bb5\u9519\u8bef\uff0c\u5982\u679c\u4f60\u5bf9\u6ca1\u6709\u6743\u9650\u8d4b\u503c\u7684\u8fdb\u884c\u8d4b\u503c\u7684\u7ed3\u679c\uff0c\u80af\u5b9a\u51fa\u73b0\u6bb5\u9519\u8bef\u3002\u6240\u4ee5\u5982\u679c\u4e0d\u786e\u5b9a\u6307\u9488\u7684\u5185\u5bb9\uff0c\u8bf7\u628a\u4ed6\u8d4b\u503c\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"NULL"))),(0,l.kt)("h4",{id:"void\u7c7b\u578b\u6307\u9488"},"void\u7c7b\u578b\u6307\u9488"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u767e\u642d\u7c7b\u578b\uff0c\u6240\u6709\u7c7b\u578b\u7684\u503c\u53ef\u4ee5\u8d4b\u7ed9\u4ed6\uff0c\u4e5f\u53ef\u4ee5\u628a\u4ed6\u8d4b\u7ed9\u5176\u4ed6\u7c7b\u578b\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'char *s = "hello";\nvoid *i = s; //\u5bf9\u5b57\u7b26\u4e32\u6307\u9488\u7684\u8d4b\u503c\n')),(0,l.kt)("h4",{id:"\u6307\u9488\u8fd0\u7b97"},"\u6307\u9488\u8fd0\u7b97"),(0,l.kt)("p",null,"& * \u5173\u7cfb\u8fd0\u7b97 ++ --"),(0,l.kt)("h3",{id:"\u6307\u9488\u4e0e\u6570\u7ec4"},"\u6307\u9488\u4e0e\u6570\u7ec4"),(0,l.kt)("h4",{id:"\u6307\u9488\u4e0e\u4e00\u7ef4\u6570\u7ec4"},"\u6307\u9488\u4e0e\u4e00\u7ef4\u6570\u7ec4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:"{10-11}","{10-11}":!0},'#include <stdlib.h>\n#include <stdio.h>\n\nint main () {\n  int a[3] = {1, 2, 3};\n  // a\u662f\u5e38\u91cf p\u662f\u53d8\u91cf\n  int *p = a;\n\n  for (int i = 0;i < sizeof(a)/sizeof(*a);i++) {\n    printf("%p -> %d\\n", p+i, *(p+i));\n    //\u8fd9\u91cc\u7684p+i\u662f\u6307\u9488\u8fd0\u7b97\uff0c\u4ee3\u8868\u5f80\u4e0b\u6570i\u4e2a\u7684p\u7684\u6570\u636e\u7c7b\u578b\u957f\u5ea6\n  }\n}\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"p+1\u4e3a\u4ec0\u4e48\u4e0d\u662f\u5355\u7eaf\u7684p\u53d8\u91cf\u52a0\u4e00\u8bf7\u53c2\u8003\u7ae0\u8282",(0,l.kt)("a",{parentName:"p",href:"#%E6%8C%87%E9%92%88%E4%B8%8E%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"},"\u6307\u9488\u4e0e\u6307\u9488\u53d8\u91cf"),"\u7684\u7b14\u8bb0\u3002\u540c\u65f6\u9700\u8981\u6ce8\u610f\uff0c\u5728\u4ee5\u4e0a\u63cf\u8ff0\u4e2d\u6570\u7ec4",(0,l.kt)("inlineCode",{parentName:"p"},"a[i]"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"a"),"\u662f\u5e38\u91cf\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"p"),"\u662f\u53d8\u91cf")),(0,l.kt)("p",null,"\u7528\u4ee5\u4e0b\u65b9\u5f0f\u53ef\u4ee5\u8868\u793a\u6570\u7ec4\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"a[i]: a[i]=*(a+i)=*(p+i)=p[i]")),(0,l.kt)("admonition",{type:"danger"},(0,l.kt)("p",{parentName:"admonition"},"\u5bf9\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"p++"),"  -> ",(0,l.kt)("inlineCode",{parentName:"p"},"p = p + 1 "),"\uff1b",(0,l.kt)("inlineCode",{parentName:"p"},"p+1")," -> ",(0,l.kt)("inlineCode",{parentName:"p"},"p+1")," \u3002\u7531\u4e24\u5173\u7cfb\u5f0f\uff0c\u53ef\u4ee5\u770b\u51fa",(0,l.kt)("inlineCode",{parentName:"p"},"p++ != p+1"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:"{12-14}","{12-14}":!0},'#include <stdlib.h>\n#include <stdio.h>\n\nint main () {\n  int a[3];\n  int *p = a;\n\n  for (int i = 0;i < sizeof(a)/sizeof(*a);i++) {\n    scanf("%d", p++);\n  }\n\n  for (int i = 0;i < sizeof(a)/sizeof(*a);i++) {\n    printf("%d\\n", *(p++));  //\u8fd9\u91cc\u7684p\u53d8\u91cf\u6ca1\u6709\u56de\u9000\u5230\u8d4b\u503c\u5f00\u59cb\u5730\u5740\n  }\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:"{17-19}","{17-19}":!0},'#include <stdio.h>\n#include <stdlib.h> //exit(0);\n#include <string.h> \n#define STRSIZE 1024\n\nint main() {\n        int a[3];\n        int *p=a;\n        int i;\n        for(i=0;i<sizeof(a)/sizeof(*a);i++){\n                scanf("%d",p++);\n        }\n        for(i=0;i<sizeof(a)/sizeof(*a);i++){\n                printf("%p->%d\\n",&a[i],a[i]);\n        }\n        p=a;\n        for(i=0;i<sizeof(a)/sizeof(*a);i++,p++){\n          printf("%p->%d\\n",p,*p);\n        }\n}\n/* \u4ee5\u4e0b\u662f\u9519\u8bef\u8f93\u51fa\n1\n2\n3\n0x7ffcc71063a8->1\n0x7ffcc71063ac->2\n0x7ffcc71063b0->3\n\n0x7ffcc71063ac->1\n0x7ffcc71063b0->2\n0x7ffcc71063b4->3\n*/\n')),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"\u4ee5\u4e0a\u4ee3\u7801\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"p++"),"\u662f\u653e\u5728for\u8bed\u53e5\u4e0b\uff0c\u539f\u56e0\u662f\u5982\u679c",(0,l.kt)("inlineCode",{parentName:"p"},'printf("%p->%d\\n",p,*p++);'),"\u5199\u8fd9\u6837\u7684\u8bddprintf\u51fd\u6570\u662f\u81ea\u53f3\u5411\u5de6\u8fdb\u884c\u53c2\u6570\u538b\u6808\u8ba1\u7b97\uff0c\u4f1a\u628ap\u81ea\u52a0\u540e\u8d4b\u503c\u7ed9p\uff0c\u5bfc\u81f4\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\uff0c\u9700\u8981\u6ce8\u610f\u3002")),(0,l.kt)("p",null,"\u6570\u7ec4\u8fd8\u53ef\u4ee5\u8fd9\u6837\u5b9a\u4e49\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int *p = (int [3]){1,2,3} //\u533f\u540d\u6570\u7ec4\n")),(0,l.kt)("h4",{id:"\u6307\u9488\u4e0e\u4e8c\u7ef4\u6570\u7ec4"},"\u6307\u9488\u4e0e\u4e8c\u7ef4\u6570\u7ec4"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e8c\u7ef4\u6570\u7ec4\u672c\u8d28\u4e0a\u662f\u4e00\u7ef4\u6570\u7ec4\u7684\u6269\u5c55\uff0c\u4e5f\u662f\u5728\u5185\u5b58\u4e0a\u8fde\u7eed\u5b58\u50a8\uff0c\u6240\u4ee5\u4e0d\u7528\u901a\u8fc7\u4e8c\u7ea7\u6307\u9488\u6765\u5b9a\u4e49\u4ed6\uff0c\u53ef\u4ee5\u901a\u8fc7\u884c\u5217\u8f6c\u6362\u8fdb\u884c\u8868\u793a\u3002")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"a[i][j] = *(*(p+i)+j)")," \u4e5f\u5c31\u662f\u8bf4\uff0c\u6570\u7ec4",(0,l.kt)("inlineCode",{parentName:"p"},"a[i]"),"\u5b58\u50a8\u4e86\u6bcf\u4e00\u884c\u5730\u5740\uff0c\u884c\u6307\u9488\u53d8\u4e3a\u5217\u6307\u9488(",(0,l.kt)("inlineCode",{parentName:"p"},"*(p+i)+j"),")\u786e\u5b9a\u6570\u503c\u7684\u5730\u5740\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdlib.h>\n#include <stdio.h>\n\nint main() {\n  int a[2][3] = {{1, 2, 3},{ 4, 5, 6}};\n  int (*p)[3] = a;\n\n  for (int i = 0;i < sizeof(a)/sizeof(*a);i++) {\n    for (int j = 0;j < sizeof(*a)/sizeof(**a);j++) {\n      printf("%d ", *(*(p+i)+j));\n    }\n  }\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdlib.h>\n#include <stdio.h>\n\nint main() {\n  int a[2][3] = {{1, 2, 3},{ 4, 5, 6}};\n  int *p = &a[0][0];\n\n  for (int i = 0;i < sizeof(a)/sizeof(*a);i++) {\n    for (int j = 0;j < sizeof(*a)/sizeof(**a);j++) {\n      printf("%d ",*(p+(i * sizeof(*a)/sizeof(**a))+j));\n    }\n  }\n}\n')),(0,l.kt)("h4",{id:"\u6570\u7ec4\u6307\u9488"},"\u6570\u7ec4\u6307\u9488"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e00\u4e2a\u6307\u9488\u6307\u5411\u4e00\u4e2a\u6570\u7ec4\uff0c\u4e5f\u5c31\u662f\u4e8c\u7ef4\u6570\u7ec4\u7684\u53e6\u5916\u4e00\u79cd\u5b9e\u73b0")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"[\u5b58\u50a8\u7c7b\u578b] \u6570\u636e\u7c7b\u578b (*\u6307\u9488\u540d)[\u4e0b\u6807] = \u503c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int a[2][3] = {{1, 2, 3},{ 4, 5, 6}};\nint *p = *a\nint (*p)[3] = a;\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdlib.h>\n#include <stdio.h>\n\nint main() {\n  int a[2][3] = {{1, 2, 3},{ 4, 5, 6}};\n  int (*p)[3] = a;\n\n  for (int i = 0;i < sizeof(a)/sizeof(*a);i++) {\n    for (int j = 0;j < sizeof(*a)/sizeof(**a);j++) {\n      printf("%d ", *(*(p+i)+j));\n    }\n  }\n}\n\n')),(0,l.kt)("h4",{id:"\u6307\u9488\u6570\u7ec4"},"\u6307\u9488\u6570\u7ec4"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u653e\u6307\u9488\u7684\u6570\u7ec4")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"[\u5b58\u50a8\u7c7b\u578b] \u6570\u636e\u7c7b\u578b *\u6570\u7ec4\u540d[\u4e0b\u6807] = \u503c")),(0,l.kt)("p",null,"\u6307\u9488\u6570\u7ec4\u6392\u5e8f\u4ee3\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nint main() {\n  char *name[5] = {"golang", "java", "c", "dart", "erlang"};\n  int k;\n  char *tmp;\n  for (int i = 0;i < (sizeof(name)/sizeof(*name))-1;i++) {\n    k = i;\n    for (int j = i+1;j < (sizeof(name)/sizeof(*name));j++) {\n      if (strcmp(name[k], name[j]) > 0) {\n        k = j;\n      }\n    }\n    if (k != i) {\n      tmp = name[i];\n      name[i] = name[k];\n      name[k] = tmp;\n    }\n  }\n  for (int i = 0;i < (sizeof(name)/sizeof(*name));i++) {\n    printf("%s\\n", *(name+i));\n  }\n}\n\n')),(0,l.kt)("h4",{id:"\u5b57\u7b26\u6570\u7ec4\u6307\u9488"},"\u5b57\u7b26\u6570\u7ec4\u6307\u9488"),(0,l.kt)("h5",{id:"\u5b57\u7b26\u6307\u9488\u548c\u5b57\u7b26\u6570\u7ec4\u7684\u533a\u522b"},"\u5b57\u7b26\u6307\u9488\u548c\u5b57\u7b26\u6570\u7ec4\u7684\u533a\u522b"),(0,l.kt)("p",null,"\u5b57\u7b26\u6570\u7ec4\u6307\u9488\u89c1\u4ee5\u4e0b\u4ee3\u7801\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:"{5-6}","{5-6}":!0},'char str[]="Hello world!"//*str\nchar *p = str;\nputs(p);\n\nstr = "name" //\u8fd9\u4e2a\u662f\u4e0d\u5141\u8bb8\u7684\uff0cstr\u662f\u5e38\u91cf\nstrcpy(str,"world");//\u8d4b\u503c\u8bf7\u4f7f\u7528\u5185\u7f6estring.h\u7684\u51fd\u6570\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:"{3}","{3}":!0},'char *str = "hello";\nprintf("%d %d\\n",sizeof(str),strlen(str));\nstrcpy(str,"world");\nputs(str);\n')),(0,l.kt)("p",null,"\u4ee5\u4e0a\u4ee3\u7801\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@node1 ~]# ./main\n8 5\n\u6bb5\u9519\u8bef (\u6838\u5fc3\u5df2\u8f6c\u50a8)\n")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("strong",{parentName:"p"},"\u51fa\u73b0\u4ee5\u4e0a\u62a5\u9519\u7684\u539f\u56e0"),'\n\u539f\u56e0\u662fstr\u6307\u5411\u7684\u662f"hello"\u5e38\u91cf\uff0c\u5b57\u7b26\u5e38\u91cf\uff0c\u5e38\u91cf\u65e0\u6cd5\u6539\u53d8\u3002\u4f7f\u7528',(0,l.kt)("inlineCode",{parentName:"p"},'str="world"'),"\u4ee3\u66ff\u5373\u53ef\u3002\u5f53\u7136\u5982\u679c\u662f\u5b57\u7b26\u6570\u7ec4",(0,l.kt)("inlineCode",{parentName:"p"},"str[]"),"\u5219\u5e94\u8be5\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},'strcpy(str,"world")'),"\u51fd\u6570\u3002")),(0,l.kt)("h4",{id:"const\u4e0e\u6307\u9488"},"const\u4e0e\u6307\u9488"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"const \u662f\u628a\u67d0\u4e9b\u53d8\u91cf\u8f6c\u53d8\u4e3a\u5e38\u91cf")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"const float pi = 3.14; // \u5e38\u91cf\u5316\u53d8\u91cf\n//\u5982\u4f55\u4fee\u6539\uff1f\u4f46\u662f\u8fd9\u662f\u6ca1\u6709\u610f\u4e49\u7684\u64cd\u4f5c\nfloat *p = &pi;\n*p = 3.14159\n")),(0,l.kt)("h4",{id:"\u6307\u9488\u5e38\u91cf\u4e0e\u5e38\u91cf\u6307\u9488\u7684\u533a\u522b"},"\u6307\u9488\u5e38\u91cf\u4e0e\u5e38\u91cf\u6307\u9488\u7684\u533a\u522b"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5982\u4f55\u8bc6\u522b\uff1f\u5148\u770b\u5230\u6307\u9488\u5c31\u662f\u6307\u9488 \u5148\u770b\u5230\u5e38\u91cf\u5c31\u662f\u5e38\u91cf")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5e38\u91cf\u6307\u9488-\u6307\u5411\u7684\u5185\u5b58\u5185\u5bb9\u4e0d\u80fd\u901a\u8fc7\u8fd9\u4e2a\u6307\u9488\u4fee\u6539")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"const int *p;\nint const *p;\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6307\u9488\u5e38\u91cf-\u6307\u5411\u7684\u5730\u5740\u4e0d\u80fd\u53d8\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6307\u9488\u4fee\u6539\u5185\u5b58\u7684\u503c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int *const p;\nconst int *const p;\n")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"\u4e0d\u7ba1\u662f\u6307\u9488\u5e38\u91cf\u8fd8\u662f\u5e38\u91cf\u6307\u9488\uff0c\u4ed6\u7684\u9650\u5236\u662f\u4e0d\u80fd\u901a\u8fc7\u4f60\u5b9a\u4e49\u7684\u53d8\u91cf\u6765\u6539\u53d8\u4f60\u628a\u53d8\u91cf\u53d8\u6210\u5e38\u91cf\u7684\u4e8b\u5b9e\uff0c\u4f46\u662f\u4f60\u8fd8\u662f\u53ef\u4ee5\u901a\u8fc7\u5176\u4ed6\u65b9\u5f0f\u628a\u91cc\u9762\u7684\u5185\u5bb9\u4fee\u6539\u8fc7\u6765\u3002\n\u540c\u65f6\u5e38\u91cf\u8fd8\u53ef\u4ee5\u4fdd\u8bc1\u4f60\u7684\u5185\u5bb9\u4e0d\u88ab\u4fee\u6539\uff0c\u5e94\u7528\u5728\u5de5\u7a0b\u4e0a\uff0c\u4e3b\u8981\u4f53\u73b0\u5728\u6570\u636e\u7684\u4fdd\u62a4\u3002")),(0,l.kt)("h3",{id:"\u591a\u7ea7\u6307\u9488"},"\u591a\u7ea7\u6307\u9488"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u591a\u7ea7\u6307\u9488\u6709\u70b9\u50cf\u94fe\u8868\u610f\u4e49\u53ea\u662f\u628a\u5185\u5bb9\u5b58\u653e\u4e86\u4e0b\u4e00\u5c42\u5730\u5740\uff0c\u6ca1\u6709\u5b9e\u9645\u5185\u5bb9\uff0c\u5b9e\u9645\u7684\u6709\u5177\u4f53\u7684\u5185\u5bb9\u5728\u591a\u7ea7\u6307\u9488\u672b\u5c3e\u3002")),(0,l.kt)("h2",{id:"\u51fd\u6570"},"\u51fd\u6570"),(0,l.kt)("h3",{id:"\u51fd\u6570\u7684\u5b9a\u4e49"},"\u51fd\u6570\u7684\u5b9a\u4e49"),(0,l.kt)("p",null,"`\u6570\u636e\u7c7b\u578b \u51fd\u6570\u540d(","[\u6570\u636e\u7c7b\u578b \u5f62\u53c2\u540d,\u6570\u636e\u7c7b\u578b \u5f62\u53c2\u540d...]",")"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdlib.h>\n#include <stdio.h>\n\nint main(int argc,char *argv[]) {\n//argc\u7ec8\u7aef\u4f20\u9012\u4e86\u591a\u5c11\u53c2\u6570\uff0c*argv[]\u53c2\u6570\u5217\u8868\n  exit(printf("Hello!\\n"));\n}\n\n')),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u8fdb\u7a0b\u7684\u8fd4\u56de\u72b6\u6001\u662f\u7ed9\u7236\u8fdb\u7a0b\u770b\u7684"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"int argc,char *argv[]")," main\u7684\u53c2\u6570\u5177\u4f53\u610f\u601d\u662f\u547d\u4ee4\u884c\u4f20\u9012\u4e86\u591a\u5c11\u53c2\u6570\uff0c\u5305\u62ec",(0,l.kt)("strong",{parentName:"li"},"\u6267\u884c\u547d\u4ee4\u672c\u8eab")))),(0,l.kt)("h3",{id:"\u51fd\u6570\u7684\u4f20\u53c2"},"\u51fd\u6570\u7684\u4f20\u53c2"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u503c\u4f20\u9012"),(0,l.kt)("li",{parentName:"ul"},"\u5730\u5740\u4f20\u9012",(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u7279\u522b\u7ecf\u5178\u7684swap()\u4ea4\u6362\u51fd\u6570\u95ee\u9898"))),(0,l.kt)("li",{parentName:"ul"},"\u5168\u5c40\u53d8\u91cf")),(0,l.kt)("h3",{id:"\u51fd\u6570\u7684\u8c03\u7528"},"\u51fd\u6570\u7684\u8c03\u7528"),(0,l.kt)("h4",{id:"\u5d4c\u5957"},"\u5d4c\u5957"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdlib.h>\n#include <stdio.h>\n\nint max(int a, int b, int c) {\n  int tmp = a > b ? a : b;\n  return tmp > c ? tmp : c;\n}\n\nint min(int a, int b, int c) {\n  int tmp = a < b ? a : b;\n  return tmp < c ? tmp : c;\n}\n\nint dist(int a, int b, int c) {\n  return max(a, b, c) - min(a, b, c);\n}\n\nint main() {\n  printf("%d\\n", dist(8, 5, 10));\n}\n\n')),(0,l.kt)("h4",{id:"\u9012\u5f52"},"\u9012\u5f52"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e00\u4e2a\u51fd\u6570\u95f4\u63a5\u6216\u76f4\u63a5\u8c03\u7528\u81ea\u8eab\uff0c\u8fd9\u91cc\u8be6\u7ec6\u7684\u7ec3\u4e60\u53ef\u4ee5\u53bb\u5237\u7b97\u6cd5")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u6590\u6ce2\u90a3\u5951\u9012\u5f52\u9012\u5f52\u5b9e\u73b0"',title:'"\u6590\u6ce2\u90a3\u5951\u9012\u5f52\u9012\u5f52\u5b9e\u73b0"'},'#include <stdio.h>\n#include <stdlib.h>\n\nint func(int n) {\n  if (n < 0) {\n    return -1;      //\u7ed3\u675f\u6761\u4ef6\n  }\n  if (n == 1 || n == 2) {\n    return 1;\n  }\n  return func(n-1) + func(n-2);\n}\n\nint main() {\n  int n;\n  scanf("%d", &n);\n  printf("fib %d = %d", n, func(n));\n  exit(0);\n}\n\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u9636\u4e58\u9012\u5f52\u5b9e\u73b0"',title:'"\u9636\u4e58\u9012\u5f52\u5b9e\u73b0"'},'#include <stdio.h>\n#include <stdlib.h>\n\nint func(int n) {\n  if (n < 0) {\n    return -1;\n  }\n  if (n == 0 || n == -1) {\n    return 1;\n  }\n  return n * func(n - 1);\n}\n\nint main() {\n  int n;\n  scanf("%d", &n);\n  printf("%d! = %d", n, func(n));\n  exit(0);\n}\n\n')),(0,l.kt)("h3",{id:"\u51fd\u6570\u4e0e\u6570\u7ec4"},"\u51fd\u6570\u4e0e\u6570\u7ec4"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e00\u7ef4\u6570\u7ec4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'{5} title="\u7528\u6307\u9488\u4f20\u9012\u6570\u7ec4"',"{5}":!0,title:'"\u7528\u6307\u9488\u4f20\u9012\u6570\u7ec4"'},'#include <stdlib.h>\n#include <stdio.h>\n\n// int *arr \u7684\u5927\u5c0f\u662f8\u4e2a\u5b57\u8282,\u770b\u4e0d\u51fa\u6570\u7ec4\u662f\u591a\u5927\u7684\uff0c\u4e0d\u80fd\u4f7f\u7528sizeof\u5224\u65ad\nvoid printarr(int *arr, int size) {\n  for (int i = 0;i < size;i++) {\n    printf("%d ", *(arr+i));\n  }\n  printf("\\n");\n}\n\nint main() {\n  int arr[] = {1, 2, 3, 4, 5};\n  printarr(arr, sizeof(arr)/sizeof(*arr));\n}\n\n')),(0,l.kt)("admonition",{type:"danger"},(0,l.kt)("p",{parentName:"admonition"},"\u6ce8\u610f\u8fd9\u91cc\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"int *arr")," \u7684\u5927\u5c0f\u662f8\u4e2a\u5b57\u8282 \u662f\u4e00\u4e2a\u666e\u901a\u7684\u6307\u9488\u4e0d\u662f\u6570\u7ec4\uff0c\u540c\u6837\u7684\u5982\u679c\u5b9a\u4e49\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"int p[]"),"\u4e5f\u662f\u4ee3\u8868\u4e00\u4e2a\u6307\u9488\u800c\u4e0d\u662f\u6574\u4e2a\u6570\u7ec4\uff0c\u6240\u4ee5\u4e00\u5b9a\u8981\u4f20\u5927\u5c0f\u6765\u5224\u65ad\u6570\u7ec4\u5927\u5c0f\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e8c\u7ef4\u6570\u7ec4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u6307\u9488\u4e8c\u7ef4\u6570\u7ec4\u4f20\u53c2"',title:'"\u6307\u9488\u4e8c\u7ef4\u6570\u7ec4\u4f20\u53c2"'},'#include <stdlib.h>\n#include <stdio.h>\n\nvoid printarr2(int (*p)[3], int m , int n) { \n//\u8fd9\u662f\u4e8c\u7ea7\u6307\u9488\uff0c\u4e5f\u53ef\u4ee5\u628a\u4e8c\u7ef4\u6570\u7ec4\u5f53\u4e2d\u5927\u7684\u4e00\u4f4d\u6570\u7ec4\u6765\u4f7f\u7528\n  for (int i = 0;i < m;i++) {\n    for (int j =0;j < n;j++) {\n      printf("%4d ", *(*(p+i)+j));\n    }\n    printf("\\n");\n  }\n}\n\nint main() {\n  int arr[][3] = {1, 2, 3, 4, 5, 6};\n  printarr2(arr, 2, 3);\n}\n\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5b57\u7b26\u6570\u7ec4\u4f20\u53c2")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u5b57\u7b26\u4e32\u62f7\u8d1d"',title:'"\u5b57\u7b26\u4e32\u62f7\u8d1d"'},"char *mystrcpy(char *dest, const char * src){\n    char *ret = dest;\n    if(dest != NULL && src !=NULL)\n        while((*dest++ = *src++) != '\\0')\n    return ret;\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u5b57\u7b26\u4e32n\u4e2a\u524d\u62f7\u8d1d"',title:'"\u5b57\u7b26\u4e32n\u4e2a\u524d\u62f7\u8d1d"'},"char *mystrncpy(char *dest,const char* src,size_t n){\n    int i;\n    for(i = 0;i < n && (dest[i]=src[i]); i++);\n    //\u8d4b\u503c\u8bed\u53e5\u7684\u8fd4\u56de\u503c\u662f\u6240\u8d4b\u7684\u503c\n    for(;i<n;i++)\n        dest[i] = '\\0';\n    return dest\n}\n")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"(dest[i]=src[i])"),"\u8d4b\u503c\u8bed\u53e5\u7684\u8fd4\u56de\u503c\u662f\u6240\u8d4b\u7684\u503c\uff0c\u5f53src\u4e3a\u7a7a",(0,l.kt)("inlineCode",{parentName:"p"},"\\0"),"\u7684\u7b26\u53f7\uff0c\u7ed3\u679c\u8fd4\u56de\u5047\u3002\n",(0,l.kt)("strong",{parentName:"p"},"size_t"),"\xa0\u662f\u4e00\u4e9bC/C++\u6807\u51c6\u5728stddef.h\u4e2d\u5b9a\u4e49\u7684\uff0csize_t \u7c7b\u578b\u8868\u793aC\u4e2d\u4efb\u4f55\u5bf9\u8c61\u6240\u80fd\u8fbe\u5230\u7684\u6700\u5927\u957f\u5ea6\uff0c\u5b83\u662f\u65e0\u7b26\u53f7\u6574\u6570\u3002")),(0,l.kt)("h3",{id:"\u51fd\u6570\u7684\u6307\u9488"},"\u51fd\u6570\u7684\u6307\u9488"),(0,l.kt)("h4",{id:"\u6307\u9488\u51fd\u6570"},"\u6307\u9488\u51fd\u6570"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8fd4\u56de\u503c\u4e3a\u6307\u9488\u7684\u51fd\u6570")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"\u6570\u636e\u7c7b\u578b * \u51fd\u6570\u540d(\u5f62\u53c2)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u67e5\u627e\u4e8c\u7ef4\u6570\u7ec4\u7684\u7b2c\u51e0\u884c\u5185\u5bb9"',title:'"\u67e5\u627e\u4e8c\u7ef4\u6570\u7ec4\u7684\u7b2c\u51e0\u884c\u5185\u5bb9"'},'#include <stdio.h>\n#include <stdlib.h>\n\n#define M 2\n#define N 3\n\nint *findnum(int (*p)[], int num) {\n  if (num > M - 1) {\n    return NULL;\n  }\n  return *(p + num);\n}\n\nint main() {\n  int arr[M][N] = {{1, 2, 3},{ 4, 5, 6}};\n\n  int *res = findnum(arr, 1);\n\n  for (int i = 0; i < N; i++) {\n    printf("%d ", *(res + i));\n  }\n}\n')),(0,l.kt)("h4",{id:"\u51fd\u6570\u6307\u9488"},"\u51fd\u6570\u6307\u9488"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\u53d8\u91cf")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"\u6570\u636e\u7c7b\u578b (*\u6307\u9488\u540d)(\u5f62\u53c2)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int (*p)(int); //\u4e00\u4e2a\u6307\u9488\u6307\u5411\u51fd\u6570\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'{4} title="\u51fd\u6570\u6307\u9488\u8bf4\u660e"',"{4}":!0,title:'"\u51fd\u6570\u6307\u9488\u8bf4\u660e"'},"int add(int a,int b){\n return a+b;\n}\nint (int,int) *p //\u8fd9\u91cc\u5c31\u662f\u51fd\u6570\u6307\u9488\u7684\u5b9a\u4e49\uff0c\u662f\u62bd\u8c61\u6982\u5ff5\u4e0a\u7684\uff0c\u4e0e\u51fd\u6570\u5177\u4f53\u5730\u5740\u65e0\u5173\n//\u4e5f\u53ef\u4ee5\u5199\u505a\nint (*p)(int,int);\np=add; //\u51fd\u6570\u7684\u5165\u53e3\u5730\u5740\nret = p\n")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"int (int,int)"),"\u8fd9\u4e2a\u662f\u4ee5\u4e0a\u4ee3\u7801add\u51fd\u6570\u7684\u62bd\u8c61\uff0c\u662f\u51fd\u6570\u7684\u6700\u672c\u8d28\u7684\u5185\u5bb9\uff0c\u800c\u51fd\u6570\u540d(\u5730\u5740\u5e38\u91cf)\u53ea\u662f\u6807\u8bc6\u662f\u4e00\u6bb5\u4ee3\u7801\u6240\u5173\u8054\u7684\u5165\u53e3\u5730\u5740\uff0c\u4f46\u662f\u8fd9\u4e2a\u5730\u5740\u662f\u53ef\u4ee5\u53d8\u5316\u7684\u3002")),(0,l.kt)("h4",{id:"\u51fd\u6570\u6307\u9488\u6570\u7ec4"},"\u51fd\u6570\u6307\u9488\u6570\u7ec4"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\u6570\u7ec4")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"\u6570\u636e\u7c7b\u578b (*\u6570\u7ec4\u540d[\u4e0b\u6807]) (\u5f62\u53c2)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int (*funcp[N])(int)\n")),(0,l.kt)("h4",{id:"\u6307\u5411\u6307\u9488\u51fd\u6570\u7684\u51fd\u6570\u6307\u9488\u6570\u7ec4"},"\u6307\u5411\u6307\u9488\u51fd\u6570\u7684\u51fd\u6570\u6307\u9488\u6570\u7ec4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int *(*funcp[N])(int)\n")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"\u6709\u4e86\u51fd\u6570\u540d\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u5b9a\u4e49\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\u5462\uff1f\n\u4e3a\u4e86\u4f20\u8f93",(0,l.kt)("strong",{parentName:"p"},"\u51fd\u6570\u540d"),"\u8fc7\u53bb\uff0c\u8fd9\u79cd\u53eb\u505a",(0,l.kt)("strong",{parentName:"p"},"\u56de\u8c03\u51fd\u6570"),"\u3002")),(0,l.kt)("p",null,"\u5b9e\u9645\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"void qsort(void *base, size_t nmemb, size_t size,\n                  int (*compar)(const void *, const void *));\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int pthread_create(pthread_t *restrict thread,\n                          const pthread_attr_t *restrict attr,\n                          void *(*start_routine)(void *),\n                          void *restrict arg);\n")),(0,l.kt)("h2",{id:"\u6784\u9020\u7c7b\u578b"},"\u6784\u9020\u7c7b\u578b"),(0,l.kt)("h3",{id:"\u7ed3\u6784\u4f53"},"\u7ed3\u6784\u4f53"),(0,l.kt)("h4",{id:"\u4ea7\u751f\u53ca\u610f\u4e49"},"\u4ea7\u751f\u53ca\u610f\u4e49"),(0,l.kt)("p",null,"\u63cf\u8ff0\u590d\u6742\u7684\u6570\u636e\u7c7b\u578b"),(0,l.kt)("h4",{id:"\u7c7b\u578b\u63cf\u8ff0"},"\u7c7b\u578b\u63cf\u8ff0"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5efa\u8bae\u7ed3\u6784\u4f53\u58f0\u660e\u5728\u51fd\u6570\u5916")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"struct [node_st] {  //\u53ef\u4ee5\u6ca1\u6709\u7ed3\u6784\u4f53\u540d\u5b57\uff0c\u4f46\u662f\u8981\u5728\u5b9a\u4e49\u7684\u65f6\u5019\u521d\u59cb\u5316\u3002\n  type1 name1;\n  type2 name2;\n  ...\n  \n}; //\u8981\u4ee5\u5206\u53f7\u7ed3\u5c3e\n")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre"},"\u7ed3\u6784\u4f53\u7684\u4efb\u4f55\u63cf\u8ff0\u4e0d\u5360\u7528\u7a7a\u95f4\uff0c\u53ea\u6709\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\u624d\u5f00\u8f9f\u7a7a\u95f4\uff0c\u5b9e\u4f8b\u5316\u540e\u662f\u7531\u6309\u7167\u63cf\u8ff0\u7684\u987a\u5e8f\u987a\u5e8f\u5f00\u8f9f\u5b58\u50a8\u3002\n"))),(0,l.kt)("h4",{id:"\u5d4c\u5957\u5b9a\u4e49"},"\u5d4c\u5957\u5b9a\u4e49"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u5d4c\u5957\u5b9a\u4e49"',title:'"\u5d4c\u5957\u5b9a\u4e49"'},'#define NAMESIZE 32\nstruct birthday_st{\n    int year;\n    int month;\n    int day;\n\n};\nstruct student_st{\n    int id;\n    char name[NAMESIZE];\n    struct birthday_st birth1; \n    struct birthday_st{  //\u4e5f\u53ef\u4ee5\u5d4c\u5957\u63cf\u8ff0\n    int year;\n    int month;\n    int day;\n    }birth2; //\u8bf7\u6ce8\u610f\u53d8\u91cf\u540d\n    int math;\n    int chinese;\n};\nint main()\n{\n    struct student_st stu ={10011,"Alan",{2011,11,11},98,97};\n    struct student_st stu ={.math = 98,.chinese = 97};\nprintf("%..%",stu.id,stu.name,stu.birth.year,stu.birth.month,stu.birth.day,stu.math,stu.chinese)\n}\n\n')),(0,l.kt)("h4",{id:"\u5b9a\u4e49\u53d8\u91cf\u521d\u59cb\u5316\u4ee5\u53ca\u6210\u5458\u5f15\u7528"},"\u5b9a\u4e49\u53d8\u91cf\u521d\u59cb\u5316\u4ee5\u53ca\u6210\u5458\u5f15\u7528"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6210\u5458\u5f15\u7528\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"\u53d8\u91cf\u540d.\u6210\u5458\u540d")),(0,l.kt)("li",{parentName:"ul"},"\u7ed3\u6784\u4f53\u6307\u9488\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"\u6307\u9488->\u6210\u5458\u540d")," \uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"(*\u6307\u9488).\u6210\u5458\u540d"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u53d8\u91cf\u521d\u59cb\u5316\u793a\u4f8b"',title:'"\u53d8\u91cf\u521d\u59cb\u5316\u793a\u4f8b"'},"struct A {\n  int i;\n  char c;\n  float f;\n};\n\nint main() {\n  // TYPE NAME = VALUE;\n  struct A a = {123, 'A', 2.22}; // \u521d\u59cb\u5316\n  struct A a_ = { .c = 'A', .f = 2.22}; // \u90e8\u5206\u521d\u59cb\u5316\n  struct A *ap = { .c = 'A', .f = 2.22}; // \u90e8\u5206\u521d\u59cb\u5316\n  \n  printf(\"%d %c %.2f\\n\",a.i, a.c, a.f); // \u6210\u5458\u5f15\u7528\n  // 123 A 2.22\n  printf(\"%d %c %.2f\\n\",a_.i, a_.c, a_.f); // \u6210\u5458\u5f15\u7528\n  // 0 A 2.22\n  printf(\"%d %c %.2f\\n\",ap->i, ap->c, ap->f); // \u6210\u5458\u5f15\u7528\n  // 0 A 2.22\n  \n}\n")),(0,l.kt)("h4",{id:"\u5360\u7528\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f"},"\u5360\u7528\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f"),(0,l.kt)("h5",{id:"\u7ed3\u6784\u4f53\u5bf9\u9f50"},"\u7ed3\u6784\u4f53\u5bf9\u9f50"),(0,l.kt)("p",null,"\u8ba1\u7b97\u5404\u7c7b\u578b\u5728\u6807\u51c6\u7ed3\u6784\u4f53\u4e2d\u7684\u5360\u7528\u7a7a\u95f4\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"addr % sizeof(type)")," \u5982\u679c\u4e0d\u80fd\u6574\u9664\u7684\u8bdd",(0,l.kt)("inlineCode",{parentName:"p"},"addr"),"\u5c31\u8981\u7ee7\u7eed\u52a0\u4e00\u76f4\u5230\u6574\u9664\u3002"),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"\u8fd9\u91cc\u6d89\u53ca\u5230\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406\u7684\u5b58\u50a8\u8fb9\u754c\u5bf9\u9f50\u8bbe\u8ba1\uff1a"),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},"\u5b57\u5730\u5740\uff1a4\u7684\u500d\u6570  "),(0,l.kt)("li",{parentName:"ul"},"\u534a\u5b57\u5730\u5740\uff1a2\u7684\u500d\u6570  "),(0,l.kt)("li",{parentName:"ul"},"\u53cc\u5b57\u5730\u5740\uff1a8\u7684\u500d\u6570  "),(0,l.kt)("li",{parentName:"ul"},"\u5b57\u8282\u5730\u5740\uff1a\u4efb\u610f")),(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("img",{src:t(26964).Z,width:"363",height:"115"}))),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7ed3\u6784\u4f53(struct)\u7684\u6570\u636e\u6210\u5458,\u7b2c\u4e00\u4e2a\u6570\u636e\u6210\u5458\u5b58\u653e\u7684\u5730\u5740\u4e3a\u7ed3\u6784\u4f53\u53d8\u91cf\u504f\u79fb\u91cf\u4e3a0\u7684\u5730\u5740\u5904."),(0,l.kt)("li",{parentName:"ol"},"\u5176\u4ed6\u7ed3\u6784\u4f53\u6210\u5458\u81ea\u8eab\u5bf9\u9f50\u65f6,\u5b58\u653e\u7684\u5730\u5740\u4e3amin{\u6709\u6548\u5bf9\u9f50\u503c\u4e3a\u81ea\u8eab\u5bf9\u9f50\u503c, \u6307\u5b9a\u5bf9\u9f50\u503c} \u7684\u6700\u5c0f\u6574\u6570\u500d\u7684\u5730\u5740\u5904\u3002\u6ce8:\u81ea\u8eab\u5bf9\u9f50\u503c:\u7ed3\u6784\u4f53\u53d8\u91cf\u91cc\u6bcf\u4e2a\u6210\u5458\u7684\u81ea\u8eab\u5927\u5c0f"),(0,l.kt)("li",{parentName:"ol"},"\u603b\u4f53\u5bf9\u9f50\u65f6,\u5b57\u8282\u5927\u5c0f\u662fmin{\u6240\u6709\u6210\u5458\u4e2d\u81ea\u8eab\u5bf9\u9f50\u503c\u6700\u5927\u7684, \u6307\u5b9a\u5bf9\u9f50\u503c} \u7684\u6574\u6570\u500d\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdio.h>\n#include <stdlib.h>\n\nstruct A {\n  int i;\n  char c;\n  float f;\n};\n\n// \u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u53d6\u6d88\u5bf9\u9f50 \u5e38\u7528\u4e8e\u7f51\u7edc\u901a\u4fe1\nstruct B {\n  int i;\n  char c;\n  float f;\n}__attribute__((packed));\n\nint main() {\n  struct A a;\n  struct B b;\n\n  printf("A = %ld\\n", sizeof(a));\n  printf("B = %ld\\n", sizeof(b));\n}\n\n')),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"\u5728\u8fdb\u884c\u7f51\u7edc\u7f16\u7a0b\u65f6\u5019\uff0c\u4e3a\u4e86\u7edf\u4e00\u5b57\u8282\u6d41\u4e0d\u8981\u51fa\u73b0\u56e0\u4e3a\u5bf9\u9f50\u800c\u9020\u6210\u7684\u7a7a\u683c\uff0c\u4f7f\u7528\u5b8f",(0,l.kt)("inlineCode",{parentName:"p"},"__attribute__((packed))"),"\u6307\u5b9a\u53d6\u6d88\u5bf9\u9f50\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"__attribute__")," ((packed)) \u7684\u4f5c\u7528\u5c31\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u53d6\u6d88\u7ed3\u6784\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u4f18\u5316\u5bf9\u9f50\uff0c\u6309\u7167\u5b9e\u9645\u5360\u7528\u5b57\u8282\u6570\u8fdb\u884c\u5bf9\u9f50\uff0c\u662fGCC\u7279\u6709\u7684\u8bed\u6cd5\u3002")),(0,l.kt)("h4",{id:"\u51fd\u6570\u4f20\u53c2\u7ed3\u6784\u4f53"},"\u51fd\u6570\u4f20\u53c2\u7ed3\u6784\u4f53"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u76f4\u63a5\u5728\u51fd\u6570\u5b9a\u4e49\u7ed3\u6784\u4f53")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"void func(struct simp_st b); //\u8fd9\u4e2a\u5f62\u53c2\u7684\u5b9a\u4e49\u4f1a\u628a\u5168\u90e8\u7684\u6210\u5458\u53d8\u91cf\u4f20\u8fc7\u53bb\n")),(0,l.kt)("p",null,"\u7f3a\u70b9\uff1a\u4f1a\u628a\u5168\u90e8\u7684\u6210\u5458\u53d8\u91cf\u4f20\u8fc7\u53bb\uff0c\u662f\u7684\u51fd\u6570\u53c2\u6570\u6d88\u8017\u5927\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u628a\u7ed3\u6784\u4f53\u7684\u6307\u9488\u4f20\u8fc7\u53bb")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"struct simp_st a;\nstruct simp_st *p = &a;\nvoid func(struct simp_st *p); //\u6307\u9488\u7684\u5927\u5c0f\u90fd\u662f\u56fa\u5b9a\u7684\n")),(0,l.kt)("p",null,"\u4f18\u70b9\uff1a\u8282\u7701\u5f00\u9500\uff0c\u5de5\u7a0b\u4e0a\u7684\u5e94\u7528"),(0,l.kt)("h4",{id:"\u7ed3\u6784\u4f53\u5e94\u7528"},"\u7ed3\u6784\u4f53\u5e94\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u7ed3\u6784\u4f53\u5b66\u751f\u4fe1\u606f\u7ba1\u7406"',title:'"\u7ed3\u6784\u4f53\u5b66\u751f\u4fe1\u606f\u7ba1\u7406"'},'#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#define NAMESIZE 32\n\nstruct student_st\n{\n    int id;\n    char name[NAMESIZE];\n    int math;\n    int chinese;\n};\nvoid stu_set(struct student_st *p, const struct student_st *q)\n{\n    *p = *q; // \u7ed3\u6784\u4f53\u5185\u5bb9\u53ef\u4ee5\u76f4\u63a5\u8d4b\u503c\n    /*\n        p->id = q -> id ;\n        strncpy(P->name,"Alan",NAMESIZE);//\u56e0\u4e3aname\u4e0d\u80fd\u76f4\u63a5\u8d4b\u5b57\u7b26\u5e38\u91cf\u503c\n        p->math = 90;\n        p->chinese = 98;\n    */\n}\nvoid stu_show(struct student_st *p)\n{\n    printf("%d %s %d %d\\n", p->id, p->name, p->math, p->chinese);\n}\nvoid stu_changename(struct student_st *p, const char *newname)\n{\n    strcpy(p->name, newname);\n}\nvoid menu(void)\n{\n    printf("1 set\\n2 change name\\n3 show\\n");\n}\nint main()\n{\n    struct student_st stu, tmp;\n    int choice;\n    do\n    {\n        menu();\n        int ret = scanf("%d".& choice);\n        if (ret != 1)\n        {\n            break;\n        }\n        switch (choice)\n        {\n        case 1:\n            scanf("%d%s%d%d", &tmp.id, tmp.name, &tmp.math, &tmp.chinese);\n            stu_set(&stu, &temp);\n            break;\n        case 2:\n            stu_changename(&stu, "wrm244");\n            break;\n        case 3:\n            stu_show(&stu);\n            break;\n        default:\n            exit(1);\n        }\n    } while (1);\n    exit(1);\n}\n')),(0,l.kt)("h3",{id:"\u5171\u7528\u4f53"},"\u5171\u7528\u4f53"),(0,l.kt)("h4",{id:"\u4ea7\u751f\u53ca\u610f\u4e49-1"},"\u4ea7\u751f\u53ca\u610f\u4e49"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u591a\u4e2a\u6210\u5458\u5171\u7528\u4e00\u5757\u7a7a\u95f4\uff0c\u53d6\u6700\u5927\u7684\u6210\u5458\u7684\u7c7b\u578b\u5927\u5c0f\u4f5c\u4e3a\u5171\u7528\u4f53\u7684\u7c7b\u578b\u5927\u5c0f\uff0c\u6bd4\u5982\u8bf4\u4f60\u7684\u6027\u522b\u53ef\u4ee5\u6709\u7537\u5973\uff0c\u4f46\u53ea\u6709\u4e00\u4e2a\u53ef\u9009\u9879\u3002")),(0,l.kt)("h4",{id:"\u7c7b\u578b\u63cf\u8ff0-1"},"\u7c7b\u578b\u63cf\u8ff0"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"union \u5171\u7528\u4f53\u540d{};")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"union test_un{\n  int i;\n  float f;\n  double d;\n  char ch;\n};\n")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"\u5b9a\u4e49\u8d4b\u503c\u4e4b\u540e\u53ea\u5bf9\u4e00\u4e2a\u6210\u5458\u53d8\u91cf\u6709\u6548\uff0c\u8fd9\u91cc\u7684\u6709\u6548\u6307\u7684\u662f\u6709\u610f\u4e49\u3002")),(0,l.kt)("h4",{id:"\u5d4c\u5957\u5b9a\u4e49-1"},"\u5d4c\u5957\u5b9a\u4e49"),(0,l.kt)("p",null,"\u540c\u7ed3\u6784\u4f53\uff0c\u53ef\u4ee5\u4e92\u76f8\u5d4c\u5957\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"union\n{\n    int a;\n    double d;\n    struct\n    {\n        int srr[10];\n        float f;\n    }c;\n};\n")),(0,l.kt)("p",null,"\u4ee5\u4e0a\u4ee3\u7801\u7684\u5360\u7528\u7a7a\u95f4\u5927\u5c0f\u4e3a44\u3002"),(0,l.kt)("h5",{id:"\u5d4c\u5957\u7684\u5e94\u7528"},"\u5d4c\u5957\u7684\u5e94\u7528"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5224\u65ad\u5927\u5c0f\u7aef"),(0,l.kt)("li",{parentName:"ul"},"32\u4f4d\u7684\u6570\u9ad8\u5341\u516d\u4f4d\u4e0e\u7b2c\u5341\u516d\u4f4d\u76f8\u52a0")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"union{\n    struct\n    {\n        uint16_t i;\n        uint16_t j;\n    }x;\n    uint32_t y;\n}a;\n\na.y = 0x11223344;\na.x.i + a.x.j //\u4e3a\u7b54\u6848\n\n")),(0,l.kt)("h4",{id:"\u5b9a\u4e49\u53d8\u91cf\u521d\u59cb\u5316\u4ee5\u53ca\u6210\u5458\u5f15\u7528-1"},"\u5b9a\u4e49\u53d8\u91cf\u521d\u59cb\u5316\u4ee5\u53ca\u6210\u5458\u5f15\u7528"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6210\u5458\u5f15\u7528\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"\u53d8\u91cf\u540d.\u6210\u5458\u540d")),(0,l.kt)("li",{parentName:"ul"},"union\u6307\u9488\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"\u6307\u9488->\u6210\u5458\u540d")," \uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"(*\u6307\u9488).\u6210\u5458\u540d"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"32\u4f4d\u7684\u65e0\u7b26\u53f7\u6570\u7684\u9ad816\u4f4d\u548c\u4f4e16\u4f4d\u76f8\u52a0")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdlib.h>\n#include <stdio.h>\n#include <stdint.h>\n\nint main() {\n  uint32_t i = 0x11223344;\n  printf("%x\\n", (i>>16)+(i&0xFFFF));\n}\n')),(0,l.kt)("p",null,"\u53e6\u4e00\u79cd\u5199\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdlib.h>\n#include <stdio.h>\n#include <stdint.h>\n\nunion {\n  struct {\n    uint16_t i;\n    uint16_t j;\n  }x;\n  uint32_t y;\n}u;\n\nint main() {\n  uint32_t i = 0x11223344;\n  printf("%x\\n", (i>>16)+(i&0xFFFF));\n\n  u.y = 0x11223344;\n  printf("%x\\n", u.x.i + u.x.j);\n}\n\n')),(0,l.kt)("h4",{id:"\u4f4d\u57df"},"\u4f4d\u57df"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u7528\u8fd9\u4e2a\u6765\u5b9a\u4e49\u7684\u8bdd\uff0c\u5728\u79fb\u6b96\u7684\u65f6\u5019\u4f1a\u51b2\u7a81"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre",className:"language-c"},"union\n{\n    struct\n    {\n        char a:1;\n        char b:2;\n        char c:1;\n    }x;\n    char y;\n}w;\n"))),(0,l.kt)("p",null,"int main()\n{   w.y = 1;\nprintf(w.x.a)\nexit(0);\n}"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\n### \u679a\u4e3e\n``enum \u6807\u8bc6\u7b26{};``\n\n```c\nenum \u6807\u8bc6\u7b26{\n  \u6210\u54581;\n  ...\n};\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'enum day {\n  MON = 1,\n  TUS,\n  WEB,\n  THR,\n  FRI,\n  SAT,\n  SUN,\n};\n\nint main() {\n  enum day a = FRI;\n  \n  printf("%d\\n", a);\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"enum status {\n  RUNNING = 1,\n  STOP,\n  PAUSE,\n};\n\nstruct job {\n  int id;\n  int state;\n  time_t start, end;\n};\n\nint main() {\n  struct job_st job1;\n  \n  switch(jobs.state) {\n    case RUNNING:\n      // TODO\n      break;\n    case STOP:\n      // TODO\n      break;\n    case PAUSE:\n      // TODO\n      break;\n    default:\n      // TODO\n      abort();\n  }\n}\n\n")),(0,l.kt)("h3",{id:"typedef"},"typedef"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5bf9\u5df2\u6709\u7684\u6570\u636e\u7c7b\u578b\u8fdb\u884c\u6539\u540d")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"typedef type typename")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"typedef int INT\n\nint main() {\n  INT i = 9;\n}\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"typedef \u548c define \u7684\u533a\u522b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"#define IP int *\ntypedef int *IP;\n\nint main() {\n  // \u5b8f\n  IP p, q;\n  int *p, q; // \u4e00\u4e2aint * \u4e00\u4e2aint\n  \n  // typedef\n  IP p, q;\n  int *p, *q; // \u4e24\u4e2aint *\n}\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6570\u7ec4")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"typedef int ARR[6]; // int [6] \u6539\u540d\u4e3a ARR\n\nARR a; // int a[6];\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7ed3\u6784\u4f53")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"typedef struct {\n  int i;\n  float f;\n}NODE, *NODEP;\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u51fd\u6570")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"typedef int *FUNC(int)\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u51fd\u6570\u6307\u9488")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"typedef int* (*FUNCP)(int)\n\nFUNCP P; --\x3e int *(*P)(int);\n")),(0,l.kt)("h2",{id:"\u52a8\u6001\u5185\u5b58\u7ba1\u7406"},"\u52a8\u6001\u5185\u5b58\u7ba1\u7406"),(0,l.kt)("h3",{id:"malloc"},"malloc"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="malloc\u51fd\u6570\u89e3\u91ca"',title:'"malloc\u51fd\u6570\u89e3\u91ca"'},"/*\nThe malloc() function allocates size bytes and returns a pointer  to the allocated memory.  The memory is not initialized. If size is 0, then malloc() returns either NULL, or a unique  pointer value  that can later be successfully passed to free().\n*/\nvoid *malloc(size_t size);\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="malloc\u7533\u8bf7\u793a\u8303"',title:'"malloc\u7533\u8bf7\u793a\u8303"'},"int *p = NULL;\np = malloc(sizeof(int)); \nif(p == NULL)\n    exit(1);\nfree(p);\n")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"p = malloc(sizeof(int));"),"\u8fd9\u91cc\u7684\u8bed\u53e5\u4e0d\u7528\u5f3a\u5236\u8f6c\u6362\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"(int *)malloc(sizeof(int))"),",\u56e0\u4e3a\u4ed6\u7684\u8fd4\u56de\u503c\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"void *"),"\u4e3a\u767e\u642d\u7c7b\u578b\uff0c\u4f46\u662f\u6709\u4e9b\u7f16\u8bd1\u5668\u4f1a\u62a5\u4e0d\u5339\u914d\uff0c\u4f46\u57fa\u672c\u4e0a\u662f\u7531\u4e8e\u4f60\u6ca1\u6709\u5305\u542b\u5e93",(0,l.kt)("inlineCode",{parentName:"p"},"#include <stdlib.h>"),"\uff0c\u5373\u7f16\u8bd1\u5668\u6ca1\u6709\u89c1\u5230\u51fd\u6570\u539f\u578b\uff0c\u7f16\u8bd1\u5668\u4f1a\u628a\u4ed6\u5f53\u4f5c",(0,l.kt)("inlineCode",{parentName:"p"},"int"),"\u7c7b\u578b\u8fd4\u56de\u3002")),(0,l.kt)("h4",{id:"\u5b9e\u73b0\u52a8\u6001\u6570\u7ec4"},"\u5b9e\u73b0\u52a8\u6001\u6570\u7ec4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'int num = 5; //\u5206\u914d\u4e3a\u51e0\u4e2a\u7a7a\u95f4\nint *p = malloc(sizeof(int)*num);\nfor(i = 0 ;i<num;i++){\n    scanf("%d",p++);\n}\n')),(0,l.kt)("h4",{id:"\u6307\u9488\u4f20\u53c2\u5bfc\u81f4\u7684\u5185\u5b58\u6cc4\u6f0f"},"\u6307\u9488\u4f20\u53c2\u5bfc\u81f4\u7684\u5185\u5b58\u6cc4\u6f0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdio.h>\n#include <stdlib.h>\nvoid func(int *p, int n)\n{\n    p = malloc(n); //\u8fd9\u91cc\u7684p\u662f\u5c40\u90e8\u53d8\u91cf\u7684p\n    printf("[%s] p->%p\\n",__FUNCTION__,p);\n    if(p == NULL)\n        exit(1);\n    return ;\n}\n\nint main()\n{\n    int num =100;\n    int *p = NULL;\n    func(p,num);\n    printf("[%s] p->%p\\n",__FUNCTION__,p);\n    free(p);\n    exit(0);\n}\n')),(0,l.kt)("p",null,"\u4ee5\u4e0a\u4ee3\u7801\u7684\u6d4b\u8bd5\u7ed3\u679c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[func] p->0x91e2a0\n[main] p->(nil)\n")),(0,l.kt)("admonition",{type:"danger"},(0,l.kt)("p",{parentName:"admonition"},"\u6240\u4ee5\u95ee\u9898\u5c31\u51fa\u73b0\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"[main]->(nil)"),"main\u51fd\u6570\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7a7a\u6307\u9488\uff0c\u4f20\u53c2\u8fc7\u53bb\u7ed9func()\n\u51fd\u6570\u4e5f\u662f\u7a7a\u6307\u9488\uff0c\u7ed3\u679c\u90fd\u4f1a\u5bfc\u81f4",(0,l.kt)("inlineCode",{parentName:"p"},"[func] p->0x1bc76b0"),"\u7533\u8bf7\u7684\u5730\u5740\u4f60\u627e\u4e0d\u5230\uff0c\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002\u5f53\u7136\u5982\u679c\u4f60\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"main"),"\u51fd\u6570\u5355\u7eaf\u5b9a\u4e49\u4e86\u6307\u9488\u7684\u6570\u636e\u7c7b\u578b\u6ca1\u6709\u4e3a\u5176\u5f00\u8f9f\u5c5e\u4e8e\u4ed6\u7684\u53ef\u8bfb\u7a7a\u95f4\uff0c\u7ed3\u679c\u4f1a\u5bfc\u81f4",(0,l.kt)("inlineCode",{parentName:"p"},"[func] p->0x1bc76b0"),"\u6307\u5411\u7684\u7a7a\u95f4\u4e3a\u53ea\u8bfb\u6216\u8005\u4fdd\u62a4\u5185\u5b58\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u79cd\u4fee\u6539\u529e\u6cd5\uff0c\u4f20\u6307\u9488\u7684\u5730\u5740\u7ed9\u51fd\u6570\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u4f20\u6307\u9488\u7684\u5730\u5740"',title:'"\u4f20\u6307\u9488\u7684\u5730\u5740"'},'#include <stdio.h>\n#include <stdlib.h>\nvoid func(int **p, int n)\n{\n    *p = malloc(n); \n    printf("[%s] p->%p\\n",__FUNCTION__,*p);\n    if(*p == NULL)\n        exit(1);\n    return ;\n}\n\nint main()\n{\n    int num =100;\n    int *p = NULL;\n    func(&p,num);\n    printf("[%s] p->%p\\n",__FUNCTION__,p);\n    free(p);\n    exit(0);\n}\n\n/**\n\u8fd0\u884c\u7ed3\u679c\n[func] p->0x6792a0\n[main] p->0x6792a0\n*/\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u4fee\u6539\u529e\u6cd5\uff0c\u8981\u6c42\u51fd\u6570\u8fd4\u56de\u6307\u9488\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u6307\u9488\u51fd\u6570\u8fd4\u56de"',title:'"\u6307\u9488\u51fd\u6570\u8fd4\u56de"'},'#include <stdio.h>\n#include <stdlib.h>\nvoid *func(int n)\n{\n\xa0 \xa0 void *p = malloc(n); //\u8fd9\u91cc\u7684p\u662f\u5c40\u90e8\u53d8\u91cf\u7684p\n\xa0 \xa0 printf("[%s] p->%p\\n",__FUNCTION__,p);\n\xa0 \xa0 if(p == NULL)\n\xa0 \xa0 \xa0 \xa0 exit(1);\n\xa0 \xa0 return p;\n}\nint main()\n{\n\xa0 \xa0 int num =100;\n\xa0 \xa0 int *p = NULL;\n\xa0 \xa0 p = func(num);\n\xa0 \xa0 printf("[%s] p->%p\\n",__FUNCTION__,p);\n\xa0 \xa0 free(p);\n\xa0 \xa0 exit(0);\n}\n\n/*\n[func] p->0x1f612a0\n[main] p->0x1f612a0\n*/\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u79cd\u65b9\u6cd5\uff0c\u5728\u8c03\u7528\u51fd\u6570\u524d\uff0c\u5148\u7533\u8bf7\u597d\u6307\u9488\u6240\u9700\u7684\u7a7a\u95f4\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'title="\u5728\u8c03\u7528\u51fd\u6570\u4e4b\u524d\u7533\u8bf7\u7a7a\u95f4"',title:'"\u5728\u8c03\u7528\u51fd\u6570\u4e4b\u524d\u7533\u8bf7\u7a7a\u95f4"'},'#include <stdio.h>\n#include <stdlib.h>\nvoid func(int *p, int n)\n{\n    *p = 2;\n    printf("[%s] p->%p\\n",__FUNCTION__,p);\n    printf("[%s] *p->%d\\n",__FUNCTION__,*p);\n    if(p == NULL)\n        exit(1);\n    return ;\n}\n\nint main()\n{\n    int num =100;\n    int *p = malloc(sizeof(int*));\n    func(p,num);\n    printf("[%s] p->%p\\n",__FUNCTION__,p);\n    printf("[%s] *p->%d\\n",__FUNCTION__,*p);\n    free(p);\n    exit(0);\n}\n/*\n\u6267\u884c\u7ed3\u679c\uff1a\n[func] p->0xdb72a0\n[func] *p->2\n[main] p->0xdb72a0\n[main] *p->2\n*/\n')),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\u662f\u9700\u8981\u533a\u5206\u7684\u5728\u5c01\u88c5",(0,l.kt)("inlineCode",{parentName:"p"},"free()"),"\u51fd\u6570\u4f20\u503c\u95ee\u9898\uff0c\u662f\u53ef\u4ee5\u76f4\u63a5\u4f20\u6307\u9488\u7684\u503c\u8fdb\u53bb\u7ed9\u51fd\u6570\uff0c\u56e0\u4e3afree\u51fd\u6570\u662f\u901a\u8fc7\u4f60\u7684\u5730\u5740\uff0c\u628a\u8fd9\u4e00\u5757\u5730\u5740\u503c\u90fd\u9500\u6bc1\u6389\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\u3002"),(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre",className:"language-c"},'int sqlist_destroy(sqlist *me)\n{\n\xa0 \xa0 printf("[%s] p->%p\\n",__FUNCTION__,me);\n\xa0 \xa0 printf("[%s] size=%d\\n",__FUNCTION__,sizeog(me));\n\xa0 \xa0 free(me);\n\xa0 \xa0 me = NULL;\n\xa0 \xa0 printf("[%s] p->%p\\n",__FUNCTION__,me);\n\xa0 \xa0 return 0;\n}\n//...\n\xa0 \xa0 printf("%d\\n",list->data[1]);\n\xa0 \xa0 printf("[%s] p->%p\\n",__FUNCTION__,list);\n\xa0 \xa0 sqlist_destroy(list);\n\xa0 \xa0 printf("[%s] p->%p\\n",__FUNCTION__,list);\n\xa0 \xa0 printf("%d\\n",list->data[1]);\n\xa0\n\xa0/*\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\n34\n[main] p->0x7952a0\n[sqlist_destroy] p->0x7952a0\n[sqlist_destroy] size=8 //\u8fd9\u91cc\u4ec5\u4ec5\u4f20\u5165\u4e00\u4e2a\u6307\u9488\u5730\u5740\u6d88\u8017\u5c0f\n[sqlist_destroy] p->(nil)\n[main] p->0x7952a0\n32549 \u8fd9\u91cc\u6570\u503c\u548c\u524d\u9762\u7684\u4e0d\u4e00\u6837\u8bf4\u660e\u4e86\u8be5\u5185\u5b58\u5df2\u7ecf\u88ab\u91ca\u653e\n\u8fd9\u91cc\u662f\u76f4\u63a5\u901a\u8fc7\u7ed3\u6784\u4f53\u4f20\u53c2\u5bfc\u81f4\u5927\u5c0f\u8fc7\u5927\uff0c\u51fd\u6570\u6d88\u8017\u8fc7\u5927\u3002\n[sqlist_destroy] size=4100\n\xa0*/\n')),(0,l.kt)("p",{parentName:"admonition"},"\u4f46\u662f\u8fd9\u91cc\u8fd8\u662f\u548c\u4e4b\u524d\u7684\u4e00\u6837\uff0c\u662f\u628a\u7ed3\u6784\u4f53\u6307\u9488\u4f20\u5165\u51fd\u6570\u4e2d\uff0c\u51cf\u5c11\u4e86\u4f20\u503c\u6d88\u8017\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"calloc")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/*\ncalloc()\u51fd\u6570\u7684\u4f5c\u7528\u662f\uff1a\u4e3a\u6bcf\u4e2a\u5927\u5c0f\u4e3a\u5b57\u8282\u7684nmemb\u5143\u7d20\u6570\u7ec4\u5206\u914d\u5185\u5b58\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u6240\u5206\u914d\u5185\u5b58\u7684\u6307\u9488\u3002\u5b58\u50a8\u5668\u8bbe\u7f6e\u4e3a\u96f6\u3002\u5982\u679cnmemb\u6216size\u4e3a0\uff0c\u5219calloc\uff08\uff09\u8fd4\u56deNULL\u6216\u552f\u4e00\u7684\u6307\u9488\u503c\uff0c\u8be5\u6307\u9488\u503c\u53ef\u4ee5\u5728\u4ee5\u540e\u6210\u529f\u4f20\u9012\u7ed9free\uff08\uff09\u3002\u5982\u679cnmemb\u4e0esize\u7684\u4e58\u6cd5\u5c06\u5bfc\u81f4\u6574\u6570\u6ea2\u51fa\uff0c\u5219calloc\uff08\uff09\u8fd4\u56de\u9519\u8bef\u3002\u76f8\u53cd\uff0c\u5728\u4ee5\u4e0b\u5bf9malloc\uff08\uff09\u7684\u8c03\u7528\u4e2d\u4e0d\u4f1a\u68c0\u6d4b\u5230\u6574\u6570\u6ea2\u51fa\uff0c\u56e0\u6b64\u5c06\u5206\u914d\u5927\u5c0f\u4e0d\u6b63\u786e\u7684\u5185\u5b58\u5757\uff1amalloc[nmemb*size\uff09\uff1b\n*/\nvoid *calloc(size_t nmemb, size_t size);\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"realloc")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/*\nrealloc()\u51fd\u6570\u7684\u4f5c\u7528\u662f\uff1a\u5c06ptr\u6307\u5411\u7684\u5185\u5b58\u5757\u7684\u5927\u5c0f\u66f4\u6539\u4e3a\u5b57\u8282\u5927\u5c0f\u3002\u4ece\u533a\u57df\u5f00\u59cb\u5230\u65b0\u65e7\u5927\u5c0f\u7684\u6700\u5c0f\u503c\uff0c\u5185\u5bb9\u5c06\u4fdd\u6301\u4e0d\u53d8\u3002\u5982\u679c\u65b0\u5927\u5c0f\u5927\u4e8e\u65e7\u5927\u5c0f\uff0c\u5219\u4e0d\u4f1a\u521d\u59cb\u5316\u6dfb\u52a0\u7684\u5185\u5b58\u3002\u5982\u679cptr\u4e3aNULL\uff0c\u5219\u5bf9\u4e8e\u5927\u5c0f\u7684\u6240\u6709\u503c\uff0c\u8be5\u8c03\u7528\u7b49\u6548\u4e8emalloc\uff08size\uff09\uff1b\u5982\u679c\u5927\u5c0f\u7b49\u4e8e\u96f6\uff0c\u5e76\u4e14ptr\u4e0d\u4e3aNULL\uff0c\u5219\u8c03\u7528\u7b49\u6548\u4e8efree\uff08ptr\uff09\u3002\u9664\u975eptr\u4e3aNULL\uff0c\u5426\u5219\u5b83\u5fc5\u987b\u7531\u4e4b\u524d\u5bf9malloc\uff08\uff09\u3001calloc\uff08\uff09\u6216realloc\uff08\uff09\u7684\u8c03\u7528\u8fd4\u56de\u3002\u5982\u679c\u79fb\u52a8\u4e86\u6307\u5411\u7684\u533a\u57df\uff0c\u5219\u6267\u884c\u7a7a\u95f2\uff08ptr\uff09\u3002\n*/\nvoid *realloc(void *ptr, size_t size);\n")),(0,l.kt)("h3",{id:"free"},"free"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u8c01\u7533\u8bf7\u8c01\u91ca\u653e")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/*The  free() function frees the memory space pointed to by ptr, which must have been returned by a previous call to malloc(), calloc(), or realloc().   Otherwise,  or if free(ptr) has already been called before, undefined behavior occurs.  If ptr is NULL,  no  operation  is performed.\n*/\nvoid free(void *ptr);\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"free\u6df1\u5165\u7406\u89e3\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c",metastring:'{9} title="free\u6df1\u5165\u7406\u89e3"',"{9}":!0,title:'"free\u6df1\u5165\u7406\u89e3"'},'#include <stdlib.h>\n#include <stdio.h>\n\nint main() {\n\xa0 int *p = malloc(sizeof(int));\n\xa0 *p = 1;\n\xa0 printf("%p--\x3e%d\\n", p,*p);\n\xa0 free(p); //\u5206\u914d\u7ed9\u522b\u4eba\u7528\n\xa0 p = NULL;\n\xa0 *p = 123; //\u8fd9\u91cc\u6709\u5185\u5b58\u6cc4\u6f0f\u98ce\u9669\n\xa0 printf("%p--\x3e%d\\n", p,*p);\n}\n/*\n0x1aa82a0--\x3e1\n0x1aa82a0--\x3e123\n*/\n')),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"\u5bf9\u4e8e\u4ee5\u4e0a\u7ed3\u679c\u53ef\u4ee5\u770b\u5f97\u51fa",(0,l.kt)("inlineCode",{parentName:"p"},"free()"),"\u4e86\u7684\u6307\u9488\u6307\u5411\u7684\u5730\u5740\u4e0d\u53d8\uff0c\u4f46\u662f\u5730\u5740\u4e2d\u4fdd\u5b58\u7684\u503c\u5df2\u7ecf\u88ab\u629b\u5f03\u4e86\uff08\u5176\u4ed6\u8fdb\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u6bb5\u5185\u5b58\uff09\uff0c\u6240\u4ee5\u8981\u4fdd\u7559\u4e2a\u4e60\u60ef\uff0c\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"free()"),"\u4e4b\u540e\u8ba9\u6307\u9488\u6307\u5411",(0,l.kt)("inlineCode",{parentName:"p"},"NULL"),"\u3002\u6240\u4ee5\u4f60\u518d\u53bb\u4f7f\u7528\u7684\u65f6\u5019\u4f1a\u62a5",(0,l.kt)("inlineCode",{parentName:"p"},"\u6bb5\u9519\u8bef (\u6838\u5fc3\u5df2\u8f6c\u50a8)"),"\u4f46\u662f\u5df2\u7ecf\u6bd4\u9690\u542b\u51fa\u9519\u66f4\u597d\u7684\u7ed3\u679c\u4e86\u3002")),(0,l.kt)("h3",{id:"\u4e0e\u7ed3\u6784\u4f53\u7ed3\u5408\u7a0b\u5e8f"},"\u4e0e\u7ed3\u6784\u4f53\u7ed3\u5408\u7a0b\u5e8f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nstruct student_st\n{\n    int id;\n    char *name;\n    int math;\n    int chinese;\n};\nvoid stu_set(struct student_st *p, const struct student_st *q)\n{\n    \n    p->id = q -> id ;\n    p->name = malloc(strlen(q->name)+1);\n    if(p->name==NULL)\n        exit(1);\n    strcpy(p->name,q->name);\n    p->math = 90;\n    p->chinese = 98;\n\n}\nvoid stu_show(struct student_st *p)\n{\n    printf("%d %s %d %d\\n", p->id, p->name, p->math, p->chinese);\n}\nvoid stu_changename(struct student_st *p, const char *newname)\n{\n    free(p->name); //\u628a\u539f\u6765name\u4e4b\u524d\u7684\u503c\u7ed9free\n    p->name = malloc(strlen(newname)+1);\n    strcpy(p->name, newname);\n}\nvoid menu(void)\n{\n    printf("1 set\\n2 change name\\n3 show\\n");\n}\nint main()\n{\n    struct student_st stu, tmp;\n    int choice;\n    do\n    {\n        menu();\n        int ret = scanf("%d".& choice);\n        if (ret != 1)\n        {\n            break;\n        }\n        switch (choice)\n        {\n        case 1:\n            tmp.name = malloc(1024);\n            scanf("%d%s%d%d", &tmp.id, tmp.name, &tmp.math, &tmp.chinese);\n            stu_set(&stu, &temp);\n            break;\n        case 2:\n            stu_changename(&stu, "wrm244");\n            break;\n        case 3:\n            stu_show(&stu);\n            break;\n        default:\n            exit(1);\n        }\n    } while (1);\n    exit(1);\n}\n')),(0,l.kt)("h2",{id:"makefile"},"Makefile"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5de5\u7a0b\u7ba1\u7406\u4f9d\u8d56\u7ba1\u7406")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"makefile(\u7528\u6237\u81ea\u5b9a\u4e49 \u66f4\u9ad8\u4f18\u5148\u7ea7)"),(0,l.kt)("li",{parentName:"ul"},"Makefile(\u9ed8\u8ba4)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-makefile"},"mytool:main.o tool1.o tool2.o\n  gcc main.o tool1.o tool2.o -o mytool  \nmain.o:main.c\n  gcc main.c -c -Wall -g -o main.o\ntool1.o:tool1.c\n  gcc tool1.c -c -Wall -g -o tool1.o\ntool2.o:tool2.c\n  gcc tool2.c -c -Wall -g -o tool2.o\n  \n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-makefile"},"OBJS=main.o tool1.o tool2.o\nCC=gcc\n\nmytool:$(OBJS)\n  $(CC) $(OBJS) -o mytool\n\nmain.o:main.c\n  $(CC) main.c -c -Wall -g -o main.o\ntool1.o:tool1.c\n  $(CC) tool1.c -c -Wall -g -o tool1.o\ntool2.o:tool2.c\n  $(CC) tool2.c -c -Wall -g -o tool2.o\n \nclean:\n  $(RM) $(OBJS) mytool -r\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"$^")," \u8868\u793a\u5728\u4e0a\u4e00\u53e5\u4f9d\u8d56\u5173\u7cfb\u4e2d\u88ab\u4f9d\u8d56\u7684\u6240\u6709\u6587\u4ef6\n",(0,l.kt)("inlineCode",{parentName:"p"},"$@")," \u8868\u793a\u5728\u4e0a\u4e00\u53e5\u4f9d\u8d56\u5173\u7cfb\u4e2d\u4f9d\u8d56\u9879\u7684\u76ee\u6807\u6587\u4ef6")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-makefile"},"CFLAGS=-Wall -g -c\nOBJS=main.o tool1.o tool2.o\nCC=gcc\n\nmytool:$(OBJS)\n  $(CC) $^ -o $@\n\nmain.o:main.c\n  $(CC) $^ $(CFLAGS) -o $@\ntool1.o:tool1.c\n  $(CC) $^ $(CFLAGS) -o $@\ntool2.o:tool2.c\n  $(CC) $^ $(CFLAGS) -o $@\n \nclean:\n  $(RM) $(OBJS) mytool -r\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"% \u8868\u793a\u540c\u4e00\u4e2a\u540d\u5b57")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-makefile"},"CFLAGS=-Wall -g -c\nOBJS=main.o tool1.o tool2.o\nCC=gcc\n\nmytool:$(OBJS)\n  $(CC) $^ -o $@\n\n%.o:%.c\n  $(CC) $^ $(CFLAGS) -o $@\n \nclean:\n  $(RM) $(OBJS) mytool -r\n")))}k.isMDXComponent=!0},3905:function(n,e,t){t.d(e,{Zo:function(){return u},kt:function(){return k}});var a=t(67294);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function r(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){i(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function p(n,e){if(null==n)return{};var t,a,i=function(n,e){if(null==n)return{};var t,a,i={},l=Object.keys(n);for(a=0;a<l.length;a++)t=l[a],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)t=l[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var o=a.createContext({}),c=function(n){var e=a.useContext(o),t=e;return n&&(t="function"==typeof n?n(e):r(r({},e),n)),t},u=function(n){var e=c(n.components);return a.createElement(o.Provider,{value:e},n.children)},s="mdxType",d={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(n,e){var t=n.components,i=n.mdxType,l=n.originalType,o=n.parentName,u=p(n,["components","mdxType","originalType","parentName"]),s=c(t),m=i,k=s["".concat(o,".").concat(m)]||s[m]||d[m]||l;return t?a.createElement(k,r(r({ref:e},u),{},{components:t})):a.createElement(k,r({ref:e},u))}));function k(n,e){var t=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var l=t.length,r=new Array(l);r[0]=m;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=n,p[s]="string"==typeof n?n:i,r[1]=p;for(var c=2;c<l;c++)r[c]=t[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},26964:function(n,e){e.Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWsAAABzCAIAAADR1rRtAAAIPUlEQVR4nO2dT+7dNBDHE9QLcAA2IFZIvQGq2LGqVLFAHIArcAiuwAEQC1S1EhLqBlXcoBKb0rLhABzhsQgK/tnOZOLYsWfe57N6P8d5z984mcz4z/zmF7+8evz48eSOv3/88vNvv+jdivr8/sNvH33za+9W1OfNmzcu78MLdH391dP1808/v2z6WyurrvnFL6+u+cmL+fCP73o3oRX/fPZ97yYA/Mf89t37Tz/5uHcz6vPn+7/QZQh02WLV9UHvlgCAYTIWZJ7n3RL5kFB/ZF4/e7pfKVdNeWIvlN1xqN9HAF1lJ9YFH+R/njx/ObgtKON2uw3+zJSBrhF4JByb5/l2u8klpsnai7TwyfOXUbnghiyV+6J0DJeuDMuF19oI/Y6uaTxdkgWJMGQXsywPefSE7z7wqWl4/expdFZaciVZs757A6W32lAvjPBmC9uArtF0PbAgayvDpiyFS0nW/i0flqMjWPQs60Pe92mvi3WbvkV0I418Xx3Cpa4HFmR1k1ZjsX7eesttXYWhvMTQaiyDHcufaXgSEtZJy+WSa0jdWrk8PKpxW0bouxB0peVyyQVsRjEnfYrROkkgff63/JTdcdahvJu0C3bNvf6rmiL/nA9daZuN6jowDnInCGFOWJ4dDWnbsnMI7wP5zu4bK+2+xszpWqP+3WomdDGb+wBPoyQhRkPuM+ZjWG632+58rSFddzQXk3JoNtcQh2YHh0X5djWnayEcJTCtK29BDk0QKr2yAdGPgNhCH1EPi/IOtKVrq7WmdWVmc+WeSw3n+FLD+ZcWNiK70sQBvd4NrWc97b7zZLroyszmKrHVAeuK9RbPeS/bkS7Jqfv9Hbu4acjcS1c0/OGjv6RxEP36/OhWnob0UOTnfPCZlCyaa2tx9MqrrunI2lMr7IykKp//ccxEMUf9CCsxy9GusdKV6CqrX5357bv3fVsAAHZ5NE2T7xxKzkCXLdzrYkUZAJSDBQGAcrAgAFDOvViQeZ7NzZNpQJct/OnyYEH89QqAFcxbkGXJ8+7it6XO0W8+17QrQNcKurpg24KEOyb0K2gBoBZ3kWEou8Q+TO8aHW2936QW6Irqo+t67sKCZLMwLH0WejHr57X+mH22gi50dcd2FHOekfvmDOiyhV1d925BAOAMWBAAKMe2BQnHn9qFi16neNBlizF1mR9JXY2IYD6yY9pz8C+10j+V39wXdKGrO+YtyKS4spr0tsoUuEOBLs2J4+BSl+0oBgD6Qo4yACiHHGXGQJct3OsiigGAcrAgAFAOFgQAyrlfC+I1L5FXXTAmfizI0cdm5Dn2M3jVBWPixIKM8NYdoQ0t8KoLquDEggBAFzysal82EcivyvBo5OdnM0dNDzcvRNWiUzrmkvKqC6xg3oJotuRGCaCEQ+nnNGFUtAkqPHTxM+ZVFxjCdhRTcHNrNjJld0ampwz1XHnVBYPjwQeJPqcPQDaNrQO86gJD2LYgUc5r4SnKuvQO8KoLrGA7ilFSsFTkTOqzy6Y/veoCQ9j2QRY0T0Xq7cu5odLEULsTE11ySXnVBVbwYEEa5SjTjE0ebUldvOoCQ9xFFAMAjSBHGQCUQ44yY6DLFu51EcUAQDlYEAAoBwsCAOV4mM09RPHSBuHEEZaWo0t/IroqYt4HmQM09YsvrrxkvvuKCXTpT0RXRWz7INEiVPaGAFyMeR8EADpi2wfRI8Q42X0iW39OB6NNIYdYFdCFrr66bFuQKE2OsK0ue+nDQ+nes+xPbOX+Uv5u3c5D14Su3ro8RDHFA0hyzq6t3yr4oYtB1wq6WmPbB0kv/ThXdsFrTg102aKdLtsWZHxGs2i1QJct2unyEMUcYiu23PJfKhrvpu83dFVvDLo02PZBlCOpt4cZiZflZ9F4VXiuUD/7c2H3h+XK5hWDLnR112XbgkzqyxF1zO43ZOsLFupk84pBl1AfXZpDJ7m7KAYAKkKOMgAohxxlxkCXLdzrIooBgHKwIABQDhYEAMoxP5t7lHTW/fyJ4aT9udaVgy79ieiqiCUfJLuWbg7QfEnxxZUn27uvhkaX/kR0VcSGD7JlHZpuWwaAXWz4ICO8NAAgxYYPsoXerAgxThRYyn9OB6PNpvssJnShq7cu2xYkRAhh0mAnPZTucVqI/pyHyQ2V/f70ELrQ1VSXjShml7KLEp4V9dAWJoIpdK2gqzUefJCRB1CVM0TmQJct2ukyb0FGNh/TSO+KuqDLFuzuzyMElsIp6+fQY9yyRBWNd9P3G7qqNwZdGmz4IOH1nTZGpAVuHnNDoQtdI+iyYUG2NOuvRdQxu1+SrV/QjNZeMbqE+ujSHDqJ7SgGAPpCjjIAKIccZcZAly3c6yKKAYBysCAAUA4WBADKuV8Lssyu924FaPHaX9Z1WbIgWxe6rA+8rl/2itf+sq7LhgURbMSySk+5oxFgxesNc7EuGxZksRFpebQt+tpGAYCRVe0y4d6BgmrZ8rQw2qGg+UUoRtjHIfejpr+EbVat8afLvAWZdcmatqplP2cL10PZ3U1Qkej6C4eEvhP6K+3la3Cpy0YUI6C5WNE1FXY3RYVZG0HcdCWa7WdRMBv12pj95UaXeR+kEasfiKNxPV7jRJe6sCAZrvdvIUITmVrEny7bUYzSR4iq6d0KHJAuHL3sYf8WPJmX9bJLXTZ8EGGQWekZbg1cR8NR0eqSW5AYquMA/h2yNReW7a8pl+Nrt7/SUy7Any4bFkS+FsorJY9dbf05yHjVXSEPb2/V0YxNan6oHS512Y5iAKAv5CgDgHLIUWYMdNnCvS6iGAAoBwsCAOVgQQCgHCwIAJTzLxrdHye4vIYmAAAAAElFTkSuQmCC"}}]);