"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2133],{99471:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return c}});var a=t(83117),o=t(80102),r=(t(67294),t(3905)),i=["components"],l={id:"3 \u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",slug:"/3\u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",title:"3 \u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",author:"RiverMountain",date:"2023/06/18",tags:["\u5927\u6570\u636e","hadoop","SQL","Hive"],keywords:["\u5927\u6570\u636e","hadoop","SQL","Hive"],description:"\u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",last_update:{date:"2023/06/18"}},s=void 0,d={unversionedId:"course/\u5927\u6570\u636e/hadoop/3 \u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",id:"course/\u5927\u6570\u636e/hadoop/3 \u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",title:"3 \u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",description:"\u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",source:"@site/docs/course/\u5927\u6570\u636e/hadoop/4 \u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb.md",sourceDirName:"course/\u5927\u6570\u636e/hadoop",slug:"/3\u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",permalink:"/docs/3\u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",draft:!1,tags:[{label:"\u5927\u6570\u636e",permalink:"/docs/tags/\u5927\u6570\u636e"},{label:"hadoop",permalink:"/docs/tags/hadoop"},{label:"SQL",permalink:"/docs/tags/sql"},{label:"Hive",permalink:"/docs/tags/hive"}],version:"current",frontMatter:{id:"3 \u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",slug:"/3\u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",title:"3 \u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",author:"RiverMountain",date:"2023/06/18",tags:["\u5927\u6570\u636e","hadoop","SQL","Hive"],keywords:["\u5927\u6570\u636e","hadoop","SQL","Hive"],description:"\u5206\u5e03\u5f0f\u8ba1\u7b97SQL\u4f53\u7cfb",last_update:{date:"2023/06/18"}},sidebar:"course",previous:{title:"3 \u5206\u5e03\u5f0f\u8ba1\u7b97\u4e0e\u8d44\u6e90\u8c03\u5ea6",permalink:"/docs/3\u5206\u5e03\u5f0f\u8ba1\u7b97\u4e0e\u8d44\u6e90\u8c03\u5ea6"},next:{title:"depression\u9879\u76ee\u540e\u7aefAPI",permalink:"/docs/depression-API"}},p={},c=[{value:"Hive",id:"hive",level:2},{value:"\u6a21\u62df\u5b9e\u73b0Hive",id:"\u6a21\u62df\u5b9e\u73b0hive",level:2},{value:"Hive \u57fa\u7840\u67b6\u6784",id:"hive-\u57fa\u7840\u67b6\u6784",level:2},{value:"Hive \u90e8\u7f72",id:"hive-\u90e8\u7f72",level:2},{value:"\u89c4\u5212",id:"\u89c4\u5212",level:3},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:3},{value:"\u521d\u59cb\u5316\u5143\u6570\u636e\u8868",id:"\u521d\u59cb\u5316\u5143\u6570\u636e\u8868",level:3},{value:"\u542f\u52a8\u670d\u52a1",id:"\u542f\u52a8\u670d\u52a1",level:3},{value:"\u8fdb\u5165hive Shell",id:"\u8fdb\u5165hive-shell",level:4},{value:"hive \u542f\u52a8\u65b9\u5f0f",id:"hive-\u542f\u52a8\u65b9\u5f0f",level:2},{value:"Shell\u542f\u52a8",id:"shell\u542f\u52a8",level:3},{value:"\u521b\u5efa\u8868",id:"\u521b\u5efa\u8868",level:4},{value:"\u63d2\u5165\u8868",id:"\u63d2\u5165\u8868",level:4},{value:"hive\u901a\u8fc7sql\u5b58\u5728hdfs\u6587\u4ef6\u7cfb\u7edf\u4e2d",id:"hive\u901a\u8fc7sql\u5b58\u5728hdfs\u6587\u4ef6\u7cfb\u7edf\u4e2d",level:4},{value:"\u6587\u4ef6\u5185\u5bb9\uff1a",id:"\u6587\u4ef6\u5185\u5bb9",level:4},{value:"\u5ba2\u6237\u7aef\u542f\u52a8",id:"\u5ba2\u6237\u7aef\u542f\u52a8",level:3},{value:"\u4f7f\u7528beeline\u5ba2\u6237\u7aef",id:"\u4f7f\u7528beeline\u5ba2\u6237\u7aef",level:4}],u={toc:c},h="wrapper";function m(e){var n=e.components,l=(0,o.Z)(e,i);return(0,r.kt)(h,(0,a.Z)({},u,l,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"hive"},"Hive"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u4e3b\u8981\u529f\u80fd\u662f\u5c06SQL\u7ffb\u8bd1\u6210MapReduce")),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(79871).Z,width:"932",height:"441"})),(0,r.kt)("h2",{id:"\u6a21\u62df\u5b9e\u73b0hive"},"\u6a21\u62df\u5b9e\u73b0Hive"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(39037).Z,width:"712",height:"205"})),(0,r.kt)("p",null,"\u9488\u5bf9SQL:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT city, COUNT(*) FROM t_user GROUP BY city\n")),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(16526).Z,width:"1052",height:"479"})),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u9488\u5bf9\u6587\u672c\u6587\u4ef6\uff0c\u9700\u8981\u5bf9\u6587\u4ef6\u751f\u6210\u6620\u5c04\u624d\u53ef\u4ee5\u67e5\u627e\u8ba1\u7b97")),(0,r.kt)("p",null,"\u9488\u5bf9\u4ee5\u4e0a\u5206\u6790\u6784\u5efaSQL\u8ba1\u7b97\uff0c\u9700\u8981\u62e5\u6709\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5143\u6570\u636e\u7ba1\u7406\u529f\u80fd\uff08\u6570\u636e\u4f4d\u7f6e\uff0c\u6570\u636e\u6587\u4ef6\uff0c\u6570\u636e\u63cf\u8ff0\uff09"),(0,r.kt)("li",{parentName:"ul"},"SQL\u89e3\u6790\u5668\uff08\u5206\u6790SQL\uff0cSQL\u8f6c\u6362MR\uff09")),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(22995).Z,width:"1523",height:"794"})),(0,r.kt)("h2",{id:"hive-\u57fa\u7840\u67b6\u6784"},"Hive \u57fa\u7840\u67b6\u6784"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(76305).Z,width:"1356",height:"926"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Metastore-\u5143\u6570\u636e\u5b58\u50a8"),(0,r.kt)("li",{parentName:"ul"},"Driver\u9a71\u52a8\u7a0b\u5e8f\uff08SQL\u89e3\u6790\u5668\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u7528\u6237\u63a5\u53e3")),(0,r.kt)("h2",{id:"hive-\u90e8\u7f72"},"Hive \u90e8\u7f72"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Hive \u672c\u8eab\u662f\u5355\u673a\u5de5\u5177\uff0c\u53ea\u9700\u90e8\u7f72\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a")),(0,r.kt)("h3",{id:"\u89c4\u5212"},"\u89c4\u5212"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u670d\u52a1"),(0,r.kt)("th",{parentName:"tr",align:null},"\u673a\u5668"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Hive\u7a0b\u5e8f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u90e8\u7f72\u5728node1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u5173\u7cfb\u6027\u6570\u636e\u5e93\uff08\u5143\u6570\u636e\u6620\u5c04\uff09"),(0,r.kt)("td",{parentName:"tr",align:null},"\u90e8\u7f72\u5728node1")))),(0,r.kt)("h3",{id:"\u914d\u7f6e\u6587\u4ef6"},"\u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh",metastring:'title="/hive/conf/hive-env.sh"',title:'"/hive/conf/hive-env.sh"'},"export HADOOP_HOME=/export/server/hadoop\nexport HIVE_CONF_DIR=/export/server/hive\nexport HIVE_AUX_JARS_PATH=/export/server/hive/lib\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="/hive/conf/hive-site.xml"',title:'"/hive/conf/hive-site.xml"'},'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n\x3c!--\u8fde\u63a5\u6570\u636e\u7684\u7528\u6237\u540d--\x3e\n  <property>\n      <name>javax.jdo.option.ConnectionUserName</name>\n      <value>root</value>\n  </property>\n\x3c!--\u8fde\u63a5\u6570\u636e\u7684\u5bc6\u7801--\x3e\n  <property>\n      <name>javax.jdo.option.ConnectionPassword</name>\n      <value>root</value>\n  </property>\n\x3c!--mysql\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u8def\u5f84\uff0c\u6ca1\u6709\u8def\u5f84\u5219\u81ea\u52a8\u521b\u5efa--\x3e\n  <property>\n      <name>javax.jdo.option.ConnectionURL</name>\n      <value>jdbc:mysql://guet.gxist.cn:3306/hive?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n  </property>\n\x3c!--\u8fde\u63a5\u6570\u636e\u5e93\u7684\u9a71\u52a8--\x3e\n  <property>\n      <name>javax.jdo.option.ConnectionDriverName</name>\n      <value>com.mysql.jdbc.Driver</value>\n  </property>\n\x3c!--\u5143\u6570\u636e\u662f\u5426\u6821\u9a8c--\x3e\n  <property>\n      <name>hive.metastore.schema.verification</name>\n      <value>false</value>\n  </property>\n\x3c!--\u662f\u5426\u81ea\u52a8\u521b\u5efa\u6838\u5fc3\u6587\u4ef6--\x3e\n  <property>\n    <name>datanucleus.schema.autoCreateAll</name>\n    <value>true</value>\n  </property>\n\x3c!--thrift\u670d\u52a1\u5668\u7ed1\u5b9a\u7684\u4e3b\u673a--\x3e\n  <property>\n    <name>hive.server2.thrift.bind.host</name>\n    <value>node1</value>\n  </property>\n\x3c!--\u9ed8\u8ba4\u7684\u5b58\u50a8\u5730\u5740--\x3e\n <property>\n  <name>hive.metastore.uris</name>\n  <value>thrift://node1:9083</value>\n </property>\n <property>\n  <name>hive.metastore.event.db.notification.api.auth</name>\n  <value>false</value>\n </property>\n\x3c!--\u8bbe\u7f6e\u663e\u793a\u8868\u5934\u5b57\u6bb5\u540d--\x3e\n <property>\n   <name>hive.cli.print.header</name>\n   <value>true</value>\n </property> \n <property>\n   <name>hive.cli.print.current.db</name>\n   <value>true</value>\n </property>\n</configuration>\n')),(0,r.kt)("h3",{id:"\u521d\u59cb\u5316\u5143\u6570\u636e\u8868"},"\u521d\u59cb\u5316\u5143\u6570\u636e\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[hadoop@node1 hive]$ ./bin/schematool -initSchema -dbType mysql -verbos\n")),(0,r.kt)("p",null,"\u521d\u59cb\u811a\u672c\u603b\u5171\u670974\u5f20\u8868\uff1a\n",(0,r.kt)("img",{src:t(99440).Z,width:"1209",height:"851"})),(0,r.kt)("h3",{id:"\u542f\u52a8\u670d\u52a1"},"\u542f\u52a8\u670d\u52a1"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[hadoop@node1 hive]$ nohup bin/hive --service metastore >> logs/metastore.log 2>&1 &\n")),(0,r.kt)("h4",{id:"\u8fdb\u5165hive-shell"},"\u8fdb\u5165hive Shell"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[hadoop@node1 hive]$ bin/hive\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/export/server/apache-hive-3.1.3-bin/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/export/server/hadoop-3.3.5/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n/usr/bin/which: no hbase in (/home/hadoop/.local/bin:/home/hadoop/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/export/server/jdk/bin:/export/server/hadoop/bin:/export/server/hadoop/sbin)\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/export/server/apache-hive-3.1.3-bin/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/export/server/hadoop-3.3.5/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\nHive Session ID = 8e6c9071-e6a9-4006-89f8-f8dd90b9c5aa\n\nLogging initialized using configuration in jar:file:/export/server/apache-hive-3.1.3-bin/lib/hive-common-3.1.3.jar!/hive-log4j2.properties Async: true\nHive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nHive Session ID = 22c5984f-3b8a-49c4-bdb8-5f9d16c18f4a\nhive (default)> show databases;\nOK\ndatabase_name\ndefault\nTime taken: 0.761 seconds, Fetched: 1 row(s)\nhive (default)> \n")),(0,r.kt)("p",null,"\u770b\u5230\u663e\u793a",(0,r.kt)("inlineCode",{parentName:"p"},"hive (default)> "),"\u4ee3\u8868\u6210\u529f\u8fdb\u5165hive\u6570\u636e\u5e93\u3002"),(0,r.kt)("h2",{id:"hive-\u542f\u52a8\u65b9\u5f0f"},"hive \u542f\u52a8\u65b9\u5f0f"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(17595).Z,width:"1214",height:"500"})),(0,r.kt)("h3",{id:"shell\u542f\u52a8"},"Shell\u542f\u52a8"),(0,r.kt)("h4",{id:"\u521b\u5efa\u8868"},"\u521b\u5efa\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"hive (default)> create table test(id int,name string,gender string);\nOK\nTime taken: 1.111 seconds\n")),(0,r.kt)("h4",{id:"\u63d2\u5165\u8868"},"\u63d2\u5165\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'hive (default)> insert into test values(1,"wrm244","boy");\nQuery ID = hadoop_20230622000808_9ec885e7-fe6b-4d66-ab3a-1531571347dd\nTotal jobs = 3\nLaunching Job 1 out of 3\nNumber of reduce tasks determined at compile time: 1\nIn order to change the average load for a reducer (in bytes):\n  set hive.exec.reducers.bytes.per.reducer=<number>\nIn order to limit the maximum number of reducers:\n  set hive.exec.reducers.max=<number>\nIn order to set a constant number of reducers:\n  set mapreduce.job.reduces=<number>\nStarting Job = job_1687019957893_0009, Tracking URL = http://node1:8089/proxy/application_1687019957893_0009/\nKill Command = /export/server/hadoop/bin/mapred job  -kill job_1687019957893_0009\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\n2023-06-22 00:08:27,119 Stage-1 map = 0%,  reduce = 0%\n2023-06-22 00:08:40,535 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.64 sec\n2023-06-22 00:08:51,842 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 7.94 sec\nMapReduce Total cumulative CPU time: 7 seconds 940 msec\nEnded Job = job_1687019957893_0009\nStage-4 is selected by condition resolver.\nStage-3 is filtered out by condition resolver.\nStage-5 is filtered out by condition resolver.\nMoving data to directory hdfs://node1:8020/user/hive/warehouse/test/.hive-staging_hive_2023-06-22_00-08-08_904_1474593618908524738-1/-ext-10000\nLoading data to table default.test\nMapReduce Jobs Launched: \nStage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 7.94 sec   HDFS Read: 16372 HDFS Write: 278 SUCCESS\nTotal MapReduce CPU Time Spent: 7 seconds 940 msec\nOK\ncol1    col2    col3\nTime taken: 45.011 seconds\nhive (default)> select *  from test\n              > ;\nOK\ntest.id test.name       test.gender\n1       wrm244  boy\nTime taken: 0.167 seconds, Fetched: 1 row(s)\n')),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5f53\u6267\u884c\u63d2\u5165\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4f1a\u6267\u884cMapReduce\u8ba1\u7b97\u5b58\u50a8\u6570\u636e\uff0c\u6240\u4ee5\u65f6\u95f4\u6bd4\u8f83\u957f\u3002")),(0,r.kt)("h4",{id:"hive\u901a\u8fc7sql\u5b58\u5728hdfs\u6587\u4ef6\u7cfb\u7edf\u4e2d"},"hive\u901a\u8fc7sql\u5b58\u5728hdfs\u6587\u4ef6\u7cfb\u7edf\u4e2d"),(0,r.kt)("p",null,"\u8def\u5f84\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"/user/hive/warehouse")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[hadoop@node1 hive]$ hadoop fs -ls /user\nFound 2 items\ndrwx------   - hadoop supergroup          0 2023-06-18 14:10 /user/hadoop\ndrwxr-xr-x   - hadoop supergroup          0 2023-06-22 00:04 /user/hive\n[hadoop@node1 hive]$ hadoop fs -ls /user/hive\nFound 1 items\ndrwxr-xr-x   - hadoop supergroup          0 2023-06-22 00:04 /user/hive/warehouse\n[hadoop@node1 hive]$ hadoop fs -ls /user/hive/warehouse\nFound 1 items\ndrwxr-xr-x   - hadoop supergroup          0 2023-06-22 00:08 /user/hive/warehouse/test\n[hadoop@node1 hive]$ \n")),(0,r.kt)("h4",{id:"\u6587\u4ef6\u5185\u5bb9"},"\u6587\u4ef6\u5185\u5bb9\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[hadoop@node1 hive]$ hadoop fs -cat /user/hive/warehouse/test/*\n1wrm244boy\n[hadoop@node1 hive]$ \n")),(0,r.kt)("h3",{id:"\u5ba2\u6237\u7aef\u542f\u52a8"},"\u5ba2\u6237\u7aef\u542f\u52a8"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[hadoop@node1 hive]$ nohup bin/hive --service hiveserver2 >> logs/hiveserver2.log 2>&1 &\n[2] 311374\n[hadoop@node1 hive]$ cat ./logs/hiveserver2.log \nnohup: \u5ffd\u7565\u8f93\u5165\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/export/server/apache-hive-3.1.3-bin/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/export/server/hadoop-3.3.5/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n/usr/bin/which: no hbase in (/home/hadoop/.local/bin:/home/hadoop/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/export/server/jdk/bin:/export/server/hadoop/bin:/export/server/hadoop/sbin)\n2023-06-22 00:27:41: Starting HiveServer2\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/export/server/apache-hive-3.1.3-bin/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/export/server/hadoop-3.3.5/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\nHive Session ID = 67a03039-6e14-470b-be62-c776e432b606\nHive Session ID = 77346be8-b413-49b4-9b56-e34eed3f56b6\n[hadoop@node1 hive]$ jps\n106128 NodeManager\n105970 ResourceManager\n106647 WebAppProxyServer\n105161 DataNode\n104984 NameNode\n311374 RunJar\n303496 RunJar\n105580 SecondaryNameNode\n107212 JobHistoryServer\n311753 Jps\n[hadoop@node1 hive]$ ps -ef | grep 311374\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u5916\u63d0\u4f9b\u7aef\u53e3",(0,r.kt)("inlineCode",{parentName:"li"},":1000"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[hadoop@node1 hive]$ netstat -anp | grep 10000\n(Not all processes could be identified, non-owned process info\n will not be shown, you would have to be root to see it all.)\ntcp6       0      0 :::10000                :::*                    LISTEN      311374/java  \n")),(0,r.kt)("h4",{id:"\u4f7f\u7528beeline\u5ba2\u6237\u7aef"},"\u4f7f\u7528beeline\u5ba2\u6237\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[hadoop@node1 hive]$ bin/beeline\nbeeline> !connect jdbc:hive2://node1:10000\nConnecting to jdbc:hive2://node1:10000\nEnter username for jdbc:hive2://node1:10000: hadoop\nEnter password for jdbc:hive2://node1:10000: \nConnected to: Apache Hive (version 3.1.3)\nDriver: Hive JDBC (version 3.1.3)\nTransaction isolation: TRANSACTION_REPEATABLE_READ\n0: jdbc:hive2://node1:10000> show databases\n. . . . . . . . . . . . . .> ;\nINFO  : Compiling command(queryId=hadoop_20230622003526_dae4b43d-e10d-4939-a70b-3f0b1b5774f6): show databases\nINFO  : Concurrency mode is disabled, not creating a lock manager\nINFO  : Semantic Analysis Completed (retrial = false)\nINFO  : Returning Hive schema: Schema(fieldSchemas:[FieldSchema(name:database_name, type:string, comment:from deserializer)], properties:null)\nINFO  : Completed compiling command(queryId=hadoop_20230622003526_dae4b43d-e10d-4939-a70b-3f0b1b5774f6); Time taken: 1.034 seconds\nINFO  : Concurrency mode is disabled, not creating a lock manager\nINFO  : Executing command(queryId=hadoop_20230622003526_dae4b43d-e10d-4939-a70b-3f0b1b5774f6): show databases\nINFO  : Starting task [Stage-0:DDL] in serial mode\nINFO  : Completed executing command(queryId=hadoop_20230622003526_dae4b43d-e10d-4939-a70b-3f0b1b5774f6); Time taken: 0.076 seconds\nINFO  : OK\nINFO  : Concurrency mode is disabled, not creating a lock manager\n+----------------+\n| database_name  |\n+----------------+\n| default        |\n+----------------+\n1 row selected (1.619 seconds)\n")))}m.isMDXComponent=!0},3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return m}});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),d=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=d(e.components);return a.createElement(s.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},h=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(t),h=o,m=c["".concat(s,".").concat(h)]||c[h]||u[h]||r;return t?a.createElement(m,i(i({ref:n},p),{},{components:t})):a.createElement(m,i({ref:n},p))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=h;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[c]="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=t[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},79871:function(e,n,t){n.Z=t.p+"assets/images/image-20230618134642-84eff283454d34221298e27e2084844c.png"},39037:function(e,n,t){n.Z=t.p+"assets/images/image-20230618134734-773e80615cf0a4246c496ddd2c0f392e.png"},16526:function(e,n,t){n.Z=t.p+"assets/images/image-20230618143439-ea6fcefc848236034e8d9d2e4d151579.png"},22995:function(e,n,t){n.Z=t.p+"assets/images/image-20230618143807-e7d7563d5d8acb51047d782d55cb4b68.png"},76305:function(e,n,t){n.Z=t.p+"assets/images/image-20230618143932-3b1ca44635960141a75dff6b8b8007e0.png"},99440:function(e,n,t){n.Z=t.p+"assets/images/image-20230621234314-68fb90a79adbc4b1ae59eb44ce184d29.png"},17595:function(e,n,t){n.Z=t.p+"assets/images/image-20230622002529-350119d32d2ce7bfdededf869ca57e75.png"}}]);